/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault() {
      return extractDefault;
    },
    process() {
      const browserProcess = {
        browser: true,
        cwd() {
          return "/";
        },
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  const OBSIDIAN_BUILT_IN_MODULE_NAMES = [
    "obsidian",
    "@codemirror/autocomplete",
    "@codemirror/collab",
    "@codemirror/commands",
    "@codemirror/language",
    "@codemirror/lint",
    "@codemirror/search",
    "@codemirror/state",
    "@codemirror/text",
    "@codemirror/view",
    "@lezer/common",
    "@lezer/lr",
    "@lezer/highlight"
  ];
  const DEPRECATED_OBSIDIAN_BUILT_IN_MODULE_NAMES = [
    "@codemirror/closebrackets",
    "@codemirror/comment",
    "@codemirror/fold",
    "@codemirror/gutter",
    "@codemirror/highlight",
    "@codemirror/history",
    "@codemirror/matchbrackets",
    "@codemirror/panel",
    "@codemirror/rangeset",
    "@codemirror/rectangular-selection",
    "@codemirror/stream-parser",
    "@codemirror/tooltip"
  ];
  function requirePatched(id) {
    if (OBSIDIAN_BUILT_IN_MODULE_NAMES.includes(id) || DEPRECATED_OBSIDIAN_BUILT_IN_MODULE_NAMES.includes(id)) {
      return originalRequire?.(id);
    }
    if (globalThis?.app?.isMobile) {
      if (id === "process" || id === "node:process") {
        console.debug(`The most likely you can safely ignore this error. Module not found: ${id}. Fake process object is returned instead.`);
        return globalThis.process;
      }
    } else {
      const module2 = originalRequire?.(id);
      if (module2) {
        return extractDefault(module2);
      }
    }
    console.debug(`The most likely you can safely ignore this error. Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var Hc=Object.create;var tn=Object.defineProperty;var Kc=Object.getOwnPropertyDescriptor;var qc=Object.getOwnPropertyNames;var Gc=Object.getPrototypeOf,Yc=Object.prototype.hasOwnProperty;var i=(t,e)=>tn(t,"name",{value:e,configurable:!0});var De=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Vs=(t,e)=>{for(var n in e)tn(t,n,{get:e[n],enumerable:!0})},zs=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of qc(e))!Yc.call(t,o)&&o!==n&&tn(t,o,{get:()=>e[o],enumerable:!(r=Kc(e,o))||r.enumerable});return t};var Tt=(t,e,n)=>(n=t!=null?Hc(Gc(t)):{},zs(e||!t||!t.__esModule?tn(n,"default",{value:t,enumerable:!0}):n,t)),Jc=t=>zs(tn({},"__esModule",{value:!0}),t);var sa=De((bg,oa)=>{"use strict";function _e(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}i(_e,"assertPath");function ia(t,e){for(var n="",r=0,o=-1,s=0,a,l=0;l<=t.length;++l){if(l<t.length)a=t.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(o===l-1||s===1))if(o!==l-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var u=n.lastIndexOf("/");if(u!==n.length-1){u===-1?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),o=l,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,o=l,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(o+1,l):n=t.slice(o+1,l),r=l-o-1;o=l,s=0}else a===46&&s!==-1?++s:s=-1}return n}i(ia,"normalizeStringPosix");function Tf(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}i(Tf,"_format");var Rt={resolve:i(function(){for(var e="",n=!1,r,o=arguments.length-1;o>=-1&&!n;o--){var s;o>=0?s=arguments[o]:(r===void 0&&(r=process.cwd()),s=r),_e(s),s.length!==0&&(e=s+"/"+e,n=s.charCodeAt(0)===47)}return e=ia(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},"resolve"),normalize:i(function(e){if(_e(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=ia(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},"normalize"),isAbsolute:i(function(e){return _e(e),e.length>0&&e.charCodeAt(0)===47},"isAbsolute"),join:i(function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];_e(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":Rt.normalize(e)},"join"),relative:i(function(e,n){if(_e(e),_e(n),e===n||(e=Rt.resolve(e),n=Rt.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var o=e.length,s=o-r,a=1;a<n.length&&n.charCodeAt(a)===47;++a);for(var l=n.length,u=l-a,c=s<u?s:u,f=-1,d=0;d<=c;++d){if(d===c){if(u>c){if(n.charCodeAt(a+d)===47)return n.slice(a+d+1);if(d===0)return n.slice(a+d)}else s>c&&(e.charCodeAt(r+d)===47?f=d:d===0&&(f=0));break}var p=e.charCodeAt(r+d),h=n.charCodeAt(a+d);if(p!==h)break;p===47&&(f=d)}var b="";for(d=r+f+1;d<=o;++d)(d===o||e.charCodeAt(d)===47)&&(b.length===0?b+="..":b+="/..");return b.length>0?b+n.slice(a+f):(a+=f,n.charCodeAt(a)===47&&++a,n.slice(a))},"relative"),_makeLong:i(function(e){return e},"_makeLong"),dirname:i(function(e){if(_e(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,o=-1,s=!0,a=e.length-1;a>=1;--a)if(n=e.charCodeAt(a),n===47){if(!s){o=a;break}}else s=!1;return o===-1?r?"/":".":r&&o===1?"//":e.slice(0,o)},"dirname"),basename:i(function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');_e(e);var r=0,o=-1,s=!0,a;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var l=n.length-1,u=-1;for(a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(c===47){if(!s){r=a+1;break}}else u===-1&&(s=!1,u=a+1),l>=0&&(c===n.charCodeAt(l)?--l===-1&&(o=a):(l=-1,o=u))}return r===o?o=u:o===-1&&(o=e.length),e.slice(r,o)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!s){r=a+1;break}}else o===-1&&(s=!1,o=a+1);return o===-1?"":e.slice(r,o)}},"basename"),extname:i(function(e){_e(e);for(var n=-1,r=0,o=-1,s=!0,a=0,l=e.length-1;l>=0;--l){var u=e.charCodeAt(l);if(u===47){if(!s){r=l+1;break}continue}o===-1&&(s=!1,o=l+1),u===46?n===-1?n=l:a!==1&&(a=1):n!==-1&&(a=-1)}return n===-1||o===-1||a===0||a===1&&n===o-1&&n===r+1?"":e.slice(n,o)},"extname"),format:i(function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return Tf("/",e)},"format"),parse:i(function(e){_e(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),o=r===47,s;o?(n.root="/",s=1):s=0;for(var a=-1,l=0,u=-1,c=!0,f=e.length-1,d=0;f>=s;--f){if(r=e.charCodeAt(f),r===47){if(!c){l=f+1;break}continue}u===-1&&(c=!1,u=f+1),r===46?a===-1?a=f:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||u===-1||d===0||d===1&&a===u-1&&a===l+1?u!==-1&&(l===0&&o?n.base=n.name=e.slice(1,u):n.base=n.name=e.slice(l,u)):(l===0&&o?(n.name=e.slice(1,a),n.base=e.slice(1,u)):(n.name=e.slice(l,a),n.base=e.slice(l,u)),n.ext=e.slice(a,u)),l>0?n.dir=e.slice(0,l-1):o&&(n.dir="/"),n},"parse"),sep:"/",delimiter:":",win32:null,posix:null};Rt.posix=Rt;oa.exports=Rt});var ga=De((_g,ma)=>{var Nt=1e3,Mt=Nt*60,_t=Mt*60,gt=_t*24,Of=gt*7,Rf=gt*365.25;ma.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return Df(t);if(n==="number"&&isFinite(t))return e.long?Mf(t):Nf(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Df(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Rf;case"weeks":case"week":case"w":return n*Of;case"days":case"day":case"d":return n*gt;case"hours":case"hour":case"hrs":case"hr":case"h":return n*_t;case"minutes":case"minute":case"mins":case"min":case"m":return n*Mt;case"seconds":case"second":case"secs":case"sec":case"s":return n*Nt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}i(Df,"parse");function Nf(t){var e=Math.abs(t);return e>=gt?Math.round(t/gt)+"d":e>=_t?Math.round(t/_t)+"h":e>=Mt?Math.round(t/Mt)+"m":e>=Nt?Math.round(t/Nt)+"s":t+"ms"}i(Nf,"fmtShort");function Mf(t){var e=Math.abs(t);return e>=gt?Kn(t,e,gt,"day"):e>=_t?Kn(t,e,_t,"hour"):e>=Mt?Kn(t,e,Mt,"minute"):e>=Nt?Kn(t,e,Nt,"second"):t+" ms"}i(Mf,"fmtLong");function Kn(t,e,n,r){var o=e>=n*1.5;return Math.round(t/n)+" "+r+(o?"s":"")}i(Kn,"plural")});var Ji=De((Vg,ba)=>{function _f(t){n.debug=n,n.default=n,n.coerce=u,n.disable=a,n.enable=o,n.enabled=l,n.humanize=ga(),n.destroy=c,Object.keys(t).forEach(f=>{n[f]=t[f]}),n.names=[],n.skips=[],n.formatters={};function e(f){let d=0;for(let p=0;p<f.length;p++)d=(d<<5)-d+f.charCodeAt(p),d|=0;return n.colors[Math.abs(d)%n.colors.length]}i(e,"selectColor"),n.selectColor=e;function n(f){let d,p=null,h,b;function A(...y){if(!A.enabled)return;let w=A,C=Number(new Date),v=C-(d||C);w.diff=v,w.prev=d,w.curr=C,d=C,y[0]=n.coerce(y[0]),typeof y[0]!="string"&&y.unshift("%O");let S=0;y[0]=y[0].replace(/%([a-zA-Z%])/g,(x,B)=>{if(x==="%%")return"%";S++;let U=n.formatters[B];if(typeof U=="function"){let D=y[S];x=U.call(w,D),y.splice(S,1),S--}return x}),n.formatArgs.call(w,y),(w.log||n.log).apply(w,y)}return i(A,"debug"),A.namespace=f,A.useColors=n.useColors(),A.color=n.selectColor(f),A.extend=r,A.destroy=n.destroy,Object.defineProperty(A,"enabled",{enumerable:!0,configurable:!1,get:i(()=>p!==null?p:(h!==n.namespaces&&(h=n.namespaces,b=n.enabled(f)),b),"get"),set:i(y=>{p=y},"set")}),typeof n.init=="function"&&n.init(A),A}i(n,"createDebug");function r(f,d){let p=n(this.namespace+(typeof d>"u"?":":d)+f);return p.log=this.log,p}i(r,"extend");function o(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];let d=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let p of d)p[0]==="-"?n.skips.push(p.slice(1)):n.names.push(p)}i(o,"enable");function s(f,d){let p=0,h=0,b=-1,A=0;for(;p<f.length;)if(h<d.length&&(d[h]===f[p]||d[h]==="*"))d[h]==="*"?(b=h,A=p,h++):(p++,h++);else if(b!==-1)h=b+1,A++,p=A;else return!1;for(;h<d.length&&d[h]==="*";)h++;return h===d.length}i(s,"matchesTemplate");function a(){let f=[...n.names,...n.skips.map(d=>"-"+d)].join(",");return n.enable(""),f}i(a,"disable");function l(f){for(let d of n.skips)if(s(f,d))return!1;for(let d of n.names)if(s(f,d))return!0;return!1}i(l,"enabled");function u(f){return f instanceof Error?f.stack||f.message:f}i(u,"coerce");function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i(c,"destroy"),n.enable(n.load()),n}i(_f,"setup");ba.exports=_f});var wa=De((be,qn)=>{be.formatArgs=Vf;be.save=zf;be.load=$f;be.useColors=Bf;be.storage=Wf();be.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();be.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Bf(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}i(Bf,"useColors");function Vf(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+qn.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(n++,o==="%c"&&(r=n))}),t.splice(r,0,e)}i(Vf,"formatArgs");be.log=console.debug||console.log||(()=>{});function zf(t){try{t?be.storage.setItem("debug",t):be.storage.removeItem("debug")}catch{}}i(zf,"save");function $f(){let t;try{t=be.storage.getItem("debug")||be.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}i($f,"load");function Wf(){try{return localStorage}catch{}}i(Wf,"localstorage");qn.exports=Ji()(be);var{formatters:Uf}=qn.exports;Uf.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var xa=De((Wg,ya)=>{"use strict";ya.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),o=e.indexOf("--");return r!==-1&&(o===-1||r<o)}});var Aa=De((Ug,ka)=>{"use strict";var jf=require("os"),Ca=require("tty"),Te=xa(),{env:Y}=process,Gn;Te("no-color")||Te("no-colors")||Te("color=false")||Te("color=never")?Gn=0:(Te("color")||Te("colors")||Te("color=true")||Te("color=always"))&&(Gn=1);function Hf(){if("FORCE_COLOR"in Y)return Y.FORCE_COLOR==="true"?1:Y.FORCE_COLOR==="false"?0:Y.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Y.FORCE_COLOR,10),3)}i(Hf,"envForceColor");function Kf(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}i(Kf,"translateLevel");function qf(t,{streamIsTTY:e,sniffFlags:n=!0}={}){let r=Hf();r!==void 0&&(Gn=r);let o=n?Gn:r;if(o===0)return 0;if(n){if(Te("color=16m")||Te("color=full")||Te("color=truecolor"))return 3;if(Te("color=256"))return 2}if(t&&!e&&o===void 0)return 0;let s=o||0;if(Y.TERM==="dumb")return s;if(process.platform==="win32"){let a=jf.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in Y)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(a=>a in Y)||Y.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in Y)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Y.TEAMCITY_VERSION)?1:0;if(Y.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Y){let a=Number.parseInt((Y.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Y.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Y.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Y.TERM)||"COLORTERM"in Y?1:s}i(qf,"supportsColor");function Qi(t,e={}){let n=qf(t,{streamIsTTY:t&&t.isTTY,...e});return Kf(n)}i(Qi,"getSupportLevel");ka.exports={supportsColor:Qi,stdout:Qi({isTTY:Ca.isatty(1)}),stderr:Qi({isTTY:Ca.isatty(2)})}});var Ea=De((J,Jn)=>{var Gf=require("tty"),Yn=require("util");J.init=td;J.log=Xf;J.formatArgs=Jf;J.save=Zf;J.load=ed;J.useColors=Yf;J.destroy=Yn.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");J.colors=[6,2,3,4,5,1];try{let t=Aa();t&&(t.stderr||t).level>=2&&(J.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}J.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(o,s)=>s.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[n]=r,t},{});function Yf(){return"colors"in J.inspectOpts?!!J.inspectOpts.colors:Gf.isatty(process.stderr.fd)}i(Yf,"useColors");function Jf(t){let{namespace:e,useColors:n}=this;if(n){let r=this.color,o="\x1B[3"+(r<8?r:"8;5;"+r),s=`  ${o};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(o+"m+"+Jn.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=Qf()+e+" "+t[0]}i(Jf,"formatArgs");function Qf(){return J.inspectOpts.hideDate?"":new Date().toISOString()+" "}i(Qf,"getDate");function Xf(...t){return process.stderr.write(Yn.formatWithOptions(J.inspectOpts,...t)+`
`)}i(Xf,"log");function Zf(t){t?process.env.DEBUG=t:delete process.env.DEBUG}i(Zf,"save");function ed(){return process.env.DEBUG}i(ed,"load");function td(t){t.inspectOpts={};let e=Object.keys(J.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=J.inspectOpts[e[n]]}i(td,"init");Jn.exports=Ji()(J);var{formatters:va}=Jn.exports;va.o=function(t){return this.inspectOpts.colors=this.useColors,Yn.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};va.O=function(t){return this.inspectOpts.colors=this.useColors,Yn.inspect(t,this.inspectOpts)}});var Sa=De((Kg,Xi)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Xi.exports=wa():Xi.exports=Ea()});var Tu=De((dv,Su)=>{"use strict";var Pr=Object.prototype.hasOwnProperty,Eu=Object.prototype.toString,yu=Object.defineProperty,xu=Object.getOwnPropertyDescriptor,Cu=i(function(e){return typeof Array.isArray=="function"?Array.isArray(e):Eu.call(e)==="[object Array]"},"isArray"),ku=i(function(e){if(!e||Eu.call(e)!=="[object Object]")return!1;var n=Pr.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Pr.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var o;for(o in e);return typeof o>"u"||Pr.call(e,o)},"isPlainObject"),Au=i(function(e,n){yu&&n.name==="__proto__"?yu(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},"setProperty"),vu=i(function(e,n){if(n==="__proto__")if(Pr.call(e,n)){if(xu)return xu(e,n).value}else return;return e[n]},"getProperty");Su.exports=i(function t(){var e,n,r,o,s,a,l=arguments[0],u=1,c=arguments.length,f=!1;for(typeof l=="boolean"&&(f=l,l=arguments[1]||{},u=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});u<c;++u)if(e=arguments[u],e!=null)for(n in e)r=vu(l,n),o=vu(e,n),l!==o&&(f&&o&&(ku(o)||(s=Cu(o)))?(s?(s=!1,a=r&&Cu(r)?r:[]):a=r&&ku(r)?r:{},Au(l,{name:n,newValue:t(f,a,o)})):typeof o<"u"&&Au(l,{name:n,newValue:o}));return l},"extend")});var ec=De((zr,Zu)=>{(function(t,e){typeof zr=="object"&&typeof Zu<"u"?e(zr):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(zr,(function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=i(y=>{if(typeof y!="string")throw new TypeError("Invalid argument expected string");let w=y.match(e);if(!w)throw new Error(`Invalid argument not valid semver ('${y}' received)`);return w.shift(),w},"validateAndParse"),r=i(y=>y==="*"||y==="x"||y==="X","isWildcard"),o=i(y=>{let w=parseInt(y,10);return isNaN(w)?y:w},"tryParse"),s=i((y,w)=>typeof y!=typeof w?[String(y),String(w)]:[y,w],"forceType"),a=i((y,w)=>{if(r(y)||r(w))return 0;let[C,v]=s(o(y),o(w));return C>v?1:C<v?-1:0},"compareStrings"),l=i((y,w)=>{for(let C=0;C<Math.max(y.length,w.length);C++){let v=a(y[C]||"0",w[C]||"0");if(v!==0)return v}return 0},"compareSegments"),u=i((y,w)=>{let C=n(y),v=n(w),S=C.pop(),P=v.pop(),x=l(C,v);return x!==0?x:S&&P?l(S.split("."),P.split(".")):S||P?S?-1:1:0},"compareVersions"),c=i((y,w,C)=>{p(C);let v=u(y,w);return f[C].includes(v)},"compare"),f={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},d=Object.keys(f),p=i(y=>{if(typeof y!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof y}`);if(d.indexOf(y)===-1)throw new Error(`Invalid operator, expected one of ${d.join("|")}`)},"assertValidOperator"),h=i((y,w)=>{if(w=w.replace(/([><=]+)\s+/g,"$1"),w.includes("||"))return w.split("||").some(V=>h(y,V));if(w.includes(" - ")){let[V,j]=w.split(" - ",2);return h(y,`>=${V} <=${j}`)}else if(w.includes(" "))return w.trim().replace(/\s{2,}/g," ").split(" ").every(V=>h(y,V));let C=w.match(/^([<>=~^]+)/),v=C?C[1]:"=";if(v!=="^"&&v!=="~")return c(y,w,v);let[S,P,x,,B]=n(y),[U,D,z,,ee]=n(w),W=[S,P,x],T=[U,D??"x",z??"x"];if(ee&&(!B||l(W,T)!==0||l(B.split("."),ee.split("."))===-1))return!1;let L=T.findIndex(V=>V!=="0")+1,O=v==="~"?2:L>1?L:1;return!(l(W.slice(0,O),T.slice(0,O))!==0||l(W.slice(O),T.slice(O))===-1)},"satisfies"),b=i(y=>typeof y=="string"&&/^[v\d]/.test(y)&&e.test(y),"validate"),A=i(y=>typeof y=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(y),"validateStrict");t.compare=c,t.compareVersions=u,t.satisfies=h,t.validate=b,t.validateStrict=A}))});var Nm={};Vs(Nm,{default:()=>Dm});module.exports=Jc(Nm);var _i=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function $i(t,e){let n=t.length,r=0;for(let o=0;o<n;o++){if(!Object.hasOwn(t,o))continue;let s=t[o];e(s,o,t)&&(t[r++]=s)}t.length=r}i($i,"filterInPlace");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ne=class{static{i(this,"AsyncEvents")}eventRefsMap=new Map;off(e,n){let r=this.eventRefsMap.get(e);r&&($i(r,o=>o.callback!==n),r.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&($i(n,r=>r!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,r){let o=this.eventRefsMap.get(e);o||(o=[],this.eventRefsMap.set(e,o));let s={asyncEvents:this,callback:n,name:e,thisArg:r};return o.push(s),s}once(e,n,r){let o=this.on(e,n,r),s=this.on(e,()=>{this.offref(o),this.offref(s)});return o}trigger(e,...n){let r=this.eventRefsMap.get(e)??[];for(let o of r.slice())this.tryTrigger(o,n)}async triggerAsync(e,...n){let r=this.eventRefsMap.get(e)??[];for(let o of r.slice())await this.tryTriggerAsync(o,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(r){window.setTimeout(()=>{throw r},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(r){window.setTimeout(()=>{throw r},0)}}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Wi="asyncError",On=new Ne;On.on(Wi,Qc);var Ws="An unhandled error occurred executing async operation",Us="    at",Xe=class t extends Error{static{i(this,"CustomStackTraceError")}constructor(e,n,r){super(e,{cause:r}),this.name="CustomStackTraceError",Error.captureStackTrace?.(this,t);let o=r,s=new Set;for(;o instanceof t;){if(s.has(o))throw new Error("Circular cause detected");s.add(o),o=o.cause}let a=(this.stack??"").split(`
`),l=n.split(`
`);/^\w*Error(?:: |$)/.test(l[0]??"")&&l.splice(0,1),a.splice(1,a.length-1,...l),this.stack=a.join(`
`)}},Ft=class t extends Error{static{i(this,"SilentError")}constructor(e){super(e),this.name="SilentError",Error.captureStackTrace?.(this,t)}};function js(t){On.trigger(Wi,t)}i(js,"emitAsyncErrorEvent");function Rn(t){if(!(t instanceof Error))return String(t);let e=t.stack??`${t.name}: ${t.message}`;if(t.cause!==void 0){let n=Rn(t.cause).split(`
`);e+=`
${$s("Caused by:")}`;for(let r of n)r.trim()&&(e+=r.startsWith(Us)?`
${r}`:`
${$s(r)}`)}return e}i(Rn,"errorToString");function ke(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}i(ke,"getStackTrace");function nn(t,e){e??=globalThis.console,e.error(Rn(t))}i(nn,"printError");function Hs(t){let e=On.on(Wi,t);return()=>{On.offref(e)}}i(Hs,"registerAsyncErrorEventHandler");function ft(t){throw t}i(ft,"throwExpression");function $s(t){return`${Us} --- ${t} --- (0)`}i($s,"generateStackTraceLine");function Qc(t){nn(t)}i(Qc,"handleAsyncError");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Le(){}i(Le,"noop");async function Me(){}i(Me,"noopAsync");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Xc=Number.POSITIVE_INFINITY;function dt(...t){let e=t.filter(s=>!!s);if(typeof AbortSignal.any=="function")return AbortSignal.any(e);if(e.length===0)return Oe();if(e.length===1&&e[0])return e[0];let n=new AbortController;for(let s of e)if(s.aborted)return s;let r=[];for(let s of e)r.push(qs(s,o));return n.signal;function o(s){for(let a of r)a();n.abort(s.reason)}}i(dt,"abortSignalAny");function Oe(){return new AbortController().signal}i(Oe,"abortSignalNever");function Ks(t){if(t===Xc)return Oe();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(t);let e=new AbortController;return window.setTimeout(()=>{e.abort(new Error(`Timed out in ${String(t)} milliseconds`))},t),e.signal}i(Ks,"abortSignalTimeout");function qs(t,e){if(t.aborted)return e(t),Le;return t.addEventListener("abort",n,{once:!0}),()=>{t.removeEventListener("abort",n)};function n(r){e(r.target)}i(n,"wrappedCallback")}i(qs,"onAbort");function Ui(t,e){return new Promise((n,r)=>{qs(t,()=>{e?r(t.reason):n(t.reason)})})}i(Ui,"waitForAbort");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Dn(t,e){return t.flags.includes(e)}i(Dn,"hasFlag");function Zc(t,e,n){let r=t.filter(s=>Dn(s,e)).length;switch(n){case"Intersect":return r===t.length;case"Throw":break;case"Union":return r>0;default:throw new Error(`Invalid strategy: ${n}`)}if(!(r===0||r===t.length))throw new Error(`Conflicting flag '${e}' across patterns.`);return r===t.length}i(Zc,"shouldPickFlag");var ef=/(?:)/;function Gs(t,e="Throw"){if(t.length===0)return ef;if(t.length===1&&t[0]!==void 0)return t[0];let n=t.map(o=>`(?:${o.source})`).join("|"),r=new Set;return nf(r,t,e),rf(r,t,e),tf(r,t),new RegExp(n,[...r].join(""))}i(Gs,"oneOf");function tf(t,e){let n=["g","d"];for(let r of n)e.some(o=>Dn(o,r))&&t.add(r)}i(tf,"addMetaFlags");function nf(t,e,n){let r=["i","m","s","y"];for(let o of r)Zc(e,o,n)&&t.add(o)}i(nf,"addSemanticFlags");function rf(t,e,n){let r=e.filter(l=>Dn(l,"u")).length,o=e.filter(l=>Dn(l,"v")).length,s,a;switch(n){case"Intersect":s=r===e.length,a=o===e.length;break;case"Throw":{let l=r===e.length,u=r===0,c=o===e.length;if(!(l||u)||!(c||o===0))throw new Error("Conflicting 'u'/'v' flags across patterns.");s=l,a=c;break}case"Union":s=r>0,a=o>0;break;default:throw new Error(`Invalid strategy: ${n}`)}if(s&&a){if(n==="Throw")throw new Error("Cannot combine both 'u'/'v' flags in one RegExp.");s=!1}s&&t.add("u"),a&&t.add("v")}i(rf,"addUnicodeFlags");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function It(t,e,...n){return e??=Oe(),e.throwIfAborted(),of(t)?await t(e,...n):t}i(It,"resolveValue");function of(t){return typeof t=="function"}i(of,"isFunction");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var sf={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"};var af={};for(let[t,e]of Object.entries(sf))af[e]=t;function Nn(t,e,n,r){return r??=n,t.slice(0,n)+e+t.slice(r)}i(Nn,"insertAt");function Ys(t){return Se(t,/\u00A0|\u202F/g," ").normalize("NFC")}i(Ys,"normalize");function Se(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(r,...o)=>{let a=typeof o.at(-1)=="object",l=a?o.length-2:o.length-1,u={groups:a?o.at(-1):void 0,missingGroupIndices:[],offset:o.at(l-1),source:o.at(l),substring:r},c=o.slice(0,l-1).map((f,d)=>{if(typeof f=="string")return f;if(typeof f>"u")return u.missingGroupIndices.push(d),"";throw new Error(`Unexpected argument type: ${typeof f}`)});return n(u,...c)??u.substring}))}i(Se,"replaceAll");function ji(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}i(ji,"trimEnd");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Js=".",lf=[{constructor:ArrayBuffer,equalityComparer:cf},{constructor:Date,equalityComparer:ff},{constructor:RegExp,equalityComparer:pf},{constructor:Map,equalityComparer:df},{constructor:Set,equalityComparer:hf}];function pe(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,r=e.constructor;if(n!==r)return!1;if(n!==Object){let u=mf(t,e);if(u!==void 0)return u}let o=Pt(t),s=Pt(e);if(o.length!==s.length)return!1;let a=t,l=e;for(let u of o)if(!s.includes(u)||!pe(a[u],l[u]))return!1;return!0}i(pe,"deepEqual");function Ze(t){return typeof t!="object"||t===null?t:"default"in t?t.default:t}i(Ze,"extractDefaultExportInterop");function Pt(t){let e=[],n=t;for(;n;){let r=Object.getOwnPropertyDescriptors(n);for(let[o,s]of Object.entries(r)){if(o==="__proto__"||typeof s.value=="function")continue;let a=typeof s.get=="function",l=typeof s.set=="function";if(a||l){a&&l&&e.push(o);continue}s.enumerable&&s.writable&&e.push(o)}n=Object.getPrototypeOf(n)}return e.sort()}i(Pt,"getAllKeys");function Lt(t,e){let n=t,r=e.split(Js);for(let o of r){if(n===void 0)return;n=n[o]}return n}i(Lt,"getNestedPropertyValue");function Qs(t,e,n){let r=new Error(`Property path ${e} not found`),o=t,s=e.split(Js);for(let l of s.slice(0,-1)){if(o===void 0)throw r;o=o[l]}let a=s.at(-1);if(o===void 0||a===void 0)throw r;o[a]=n}i(Qs,"setNestedPropertyValue");function Mn(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:Hi("CircularReference"),maxDepthLimitReached:Hi("MaxDepthLimitReached"),toJSONFailed:Hi("ToJSONFailed")}},r={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};r.maxDepth===-1&&(r.maxDepth=1/0);let o=[],a=_n(t,"",0,!0,r,o,new WeakSet),l=JSON.stringify(a,null,r.space)??"";return l=Se(l,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(u,c,f)=>uf({functionTexts:o,index:f?parseInt(f,10):0,key:c,substitutions:r.tokenSubstitutions})),l}i(Mn,"toJson");function uf(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??ft(new Error(`Function with index ${String(t.index)} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${String(t.index)})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}i(uf,"applySubstitutions");function cf(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),r=new Uint8Array(e);return pe(n,r)}i(cf,"deepEqualArrayBuffer");function ff(t,e){return t.getTime()===e.getTime()}i(ff,"deepEqualDate");function df(t,e){if(t.size!==e.size)return!1;for(let[n,r]of t.entries())if(!e.has(n)||!pe(r,e.get(n)))return!1;return!0}i(df,"deepEqualMap");function pf(t,e){return t.source===e.source&&t.flags===e.flags}i(pf,"deepEqualRegExp");function hf(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let r=!1;for(let o of e)if(pe(n,o)){r=!0;break}if(!r)return!1}return!0}i(hf,"deepEqualSet");function mf(t,e){for(let{constructor:n,equalityComparer:r}of lf)if(t instanceof n&&e instanceof n)return r(t,e)}i(mf,"deepEqualTyped");function gf(t,e,n,r,o,s){return e>r.maxDepth?Ot("MaxDepthLimitReachedArray",t.length):t.map((a,l)=>_n(a,String(l),e+1,n,r,o,s))}i(gf,"handleArray");function bf(t,e,n){if(n.shouldHandleCircularReferences)return Ot("CircularReference");let r=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${r}'
--- property '${e}' closes the circle`)}i(bf,"handleCircularReference");function wf(t,e,n){if(n.functionHandlingMode==="exclude")return;let r=e.length,o=n.functionHandlingMode==="full"?String(t):`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(o),Ot("Function",r)}i(wf,"handleFunction");function yf(t,e,n,r,o,s,a){if(a.has(t))return bf(t,e,o);if(a.add(t),r){let l=Cf(t,e,n,o,s,a);if(l!==void 0)return l}return Array.isArray(t)?gf(t,n,r,o,s,a):n>o.maxDepth?Ot("MaxDepthLimitReached"):t instanceof Error&&o.shouldHandleErrors?Rn(t):xf(t,n,r,o,s,a)}i(yf,"handleObject");function xf(t,e,n,r,o,s){let a=Object.entries(t);return r.shouldSortKeys&&a.sort(([l],[u])=>l.localeCompare(u)),Object.fromEntries(a.map(([l,u])=>[l,_n(u,l,e+1,n,r,o,s)]))}i(xf,"handlePlainObject");function Hi(t){return`{ "[[${t}]]": null }`}i(Hi,"makeObjectTokenSubstitution");function Ot(t,e){return`[[${t}${e?String(e):""}]]`}i(Ot,"makePlaceholder");function _n(t,e,n,r,o,s,a){return t===void 0?n===0||o.shouldHandleUndefined?Ot("Undefined"):void 0:typeof t=="function"?wf(t,s,o):typeof t!="object"||t===null?t:yf(t,e,n,r,o,s,a)}i(_n,"toPlainObject");function Cf(t,e,n,r,o,s){let a=t.toJSON;if(typeof a=="function")try{let l=a.call(t,e);return _n(l,e,n,!1,r,o,s)}catch(l){if(r.shouldCatchToJSONErrors)return Ot("ToJSONFailed");throw l}}i(Cf,"tryHandleToJSON");var Ve=require("obsidian");var kf=require("obsidian"),Zs=require("obsidian"),ea=require("obsidian"),dg=require("obsidian"),pg=require("obsidian"),Ef=require("obsidian"),Sf=require("obsidian"),na=require("obsidian");var Xs=class{static{i(this,"CustomArrayDictImpl")}data=new Map;add(t,e){let n=this.get(t);n||(n=[],this.data.set(t,n)),n.includes(e)||n.push(e)}remove(t,e){let n=this.get(t);n&&(n.remove(e),n.length===0&&this.clear(t))}get(t){return this.data.get(t)||null}keys(){return Array.from(this.data.keys())}clear(t){this.data.delete(t)}clearAll(){this.data.clear()}contains(t,e){return!!this.get(t)?.contains(e)}count(){let t=0;for(let e of this.keys())t+=this.get(e)?.length??0;return t}};var Ke={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},Bn={AllProperties:"all-properties",Audio:"audio",Backlink:Ke.Backlink,Bases:Ke.Bases,Bookmarks:Ke.Bookmarks,Canvas:Ke.Canvas,Empty:"empty",FileExplorer:Ke.FileExplorer,FileProperties:"file-properties",Graph:Ke.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:Ke.OutgoingLink,Outline:Ke.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function Af(){return Zs.TFile}i(Af,"getTFileConstructor");function vf(){return ea.TFolder}i(vf,"getTFolderConstructor");function pt(t){return t.replace(/\/?[^\/]*$/,"")||"/"}i(pt,"parentFolderPath");function Vn(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(vf())(t.vault,e),n.parent=Vn(t,pt(e)),n.deleted=!0,n)}i(Vn,"createTFolderInstance");function ta(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(Af())(t.vault,e),n.parent=Vn(t,pt(e)),n.deleted=!0,n)}i(ta,"createTFileInstance");async function ra(){return await(0,na.loadPrism)()}i(ra,"loadPrism");function qe(t){return!!t.position}i(qe,"isReferenceCache");function Ae(t){return!!t.key}i(Ae,"isFrontmatterLinkCache");var Ki=Tt(sa(),1);i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ff=/[a-zA-Z]:\/[^:]*$/,Be=Ki.default.posix,Cg=Be.delimiter,kg=Ki.default.posix.sep,Dt=Be.basename,zn=Be.dirname,et=Be.extname,Ag=Be.format;var rn=Be.join,vg=Be.normalize,Eg=Be.parse,aa=Be.relative;function la(t,e){return e?`${t}.${e}`:t}i(la,"makeFileName");function ua(...t){let e=Be.resolve(...t);return e=If(e),Ff.exec(e)?.[0]??e}i(ua,"resolve");function If(t){return Se(t,"\\","/")}i(If,"toPosixPath");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pf="canvas",qi="md";function Gi(t){return t.map(e=>$n(e))}i(Gi,"asArrayOfFiles");function $n(t){return Yi(t)??ft(new Error("Abstract file is not a file"))}i($n,"asFile");function Yi(t){if(t===null)return null;if(t instanceof Ve.TFile)return t;throw new Error("Abstract file is not a file")}i(Yi,"asFileOrNull");function fa(t,e,n){if(Ge(e))return e.extension===n;if(typeof e=="string"){let r=tt(t,e);return r?r.extension===n:et(e).slice(1)===n}return!1}i(fa,"checkExtension");function Wn(t,e,n){if(e===null)return null;if(pa(e))return t.vault.fileMap[e.path]??e;let r=ca(t,e,n);if(r)return r;let o=ha(e);return o===e?null:ca(t,o,n)}i(Wn,"getAbstractFileOrNull");function he(t,e,n,r){let o=tt(t,e,r);if(!o)if(n)o=ta(t,e);else throw new Error(`File not found: ${e}`);return o}i(he,"getFile");function tt(t,e,n){let r=Wn(t,e,n);return Ge(r)?r:null}i(tt,"getFileOrNull");function Un(t,e,n,r){let o=da(t,e,r);if(!o)if(n)o=Vn(t,e);else throw new Error(`Folder not found: ${e}`);return o}i(Un,"getFolder");function da(t,e,n){let r=Wn(t,e,n);return Lf(r)?r:null}i(da,"getFolderOrNull");function me(t,e){if(pa(e))return e.path;let n=Wn(t,e);return n?n.path:ha(e)}i(me,"getPath");function pa(t){return t instanceof Ve.TAbstractFile}i(pa,"isAbstractFile");function jn(t,e){return fa(t,e,Pf)}i(jn,"isCanvasFile");function Ge(t){return t instanceof Ve.TFile}i(Ge,"isFile");function Lf(t){return t instanceof Ve.TFolder}i(Lf,"isFolder");function ge(t,e){return fa(t,e,qi)}i(ge,"isMarkdownFile");function ca(t,e,n){return n??=t.vault.adapter.insensitive,n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}i(ca,"getFileInternal");function ha(t){return(0,Ve.normalizePath)(ua("/",t))}i(ha,"getResolvedPath");var ht=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function mt(t){let e=(0,ht.getFrontMatterInfo)(t);return(0,ht.parseYaml)(e.frontmatter)??{}}i(mt,"parseFrontmatter");function Hn(t,e){let n=(0,ht.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let r=(0,ht.stringifyYaml)(e);return n.exists?Nn(t,r,n.from,n.to):`---
${r}---
${t}`}i(Hn,"setFrontmatter");var dn=require("obsidian");var no=Tt(Sa(),1);i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Zi="48.1.0",Qn="obsidian-dev-utils",Ta=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utilsprogress.loop {
  min-width: 200px;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.plugin-settings-tab a:focus {
  outline: 2px solid var(--link-color);
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/loop.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/plugin-settings-tab.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;ACjDJ;EACE;;;ACAA;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&progress.loop%20%7B%5Cn%20%20%20%20min-width:%20200px;%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.plugin-settings-tab%20%7B%5Cn%20%20%20%20a:focus%20%7B%5Cn%20%20%20%20%20%20outline:%202px%20solid%20var(--link-color);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var eo=class{static{i(this,"ValueWrapper")}constructor(e){this.value=e}};function nd(){let t=globalThis.app;if(t)return t;try{return globalThis.require("obsidian/app")}catch{throw new Error("Obsidian App global instance not found")}}i(nd,"getApp");function Re(t,e,n){let o=t??rd()??globalThis;return o.obsidianDevUtilsState??={},o.obsidianDevUtilsState[e]??=new eo(n)}i(Re,"getObsidianDevUtilsState");function rd(){return typeof window>"u"?null:nd()}i(rd,"getAppOrNull");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var to="__no-plugin-id-initialized__",Fa=to;function Xn(){return Fa}i(Xn,"getPluginId");function Ia(t){t&&(Fa=t)}i(Ia,"setPluginId");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pa=",",Zn="-";function La(){return{disable:id,enable:od,get:er,set:on}}i(La,"getDebugController");function Bt(t,e=0){let n=`${t}:${String(e)}`,r=Re(null,"debuggers",new Map).value,o=r.get(n);return o||(o=sn()(t),o.log=(s,...a)=>{sd(t,e,s,...a)},r.set(n,o)),o}i(Bt,"getDebugger");function we(t){let e=Xn(),n=e===to?"":`${e}:`;return Bt(`${n}${Qn}:${t}`)}i(we,"getLibDebugger");function ze(t,e,n,...r){if(!Ra()){t(n,...r);return}t(n,...r,`

---
Context stack trace:
`,Da(e))}i(ze,"printWithStackTrace");function Oa(t){let e=sn().enabled(t),n=e?"enabled":"disabled",r=e?"disable":"enable",o=er();on(t),Bt(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${r} them.`),on(o)}i(Oa,"showInitialDebugMessage");function id(t){let e=new Set(er());for(let n of an(t)){if(n.startsWith(Zn))continue;let r=Zn+n;e.has(n)&&e.delete(n),e.add(r)}on(Array.from(e))}i(id,"disableNamespaces");function od(t){let e=new Set(er());for(let n of an(t)){if(!n.startsWith(Zn)){let r=Zn+n;e.has(r)&&e.delete(r)}e.add(n)}on(Array.from(e))}i(od,"enableNamespaces");function er(){return an(sn().load()??"")}i(er,"getNamespaces");function sn(){return typeof window>"u"?no.default:Re(null,"debug",no.default).value}i(sn,"getSharedDebugLibInstance");function Ra(){return typeof window<"u"}i(Ra,"isInObsidian");function sd(t,e,n,...r){if(!sn().enabled(t))return;if(!Ra()){console.debug(n,...r);return}let o=4,s=new Error().stack?.split(`
`)??[];s.splice(0,o+e),console.debug(n,...r,`

---
Logger stack trace:
`,Da(s.join(`
`)))}i(sd,"logWithCaller");function Da(t){return new Xe("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",t,void 0)}i(Da,"makeStackTraceError");function on(t){sn().enable(an(t).join(Pa))}i(on,"setNamespaces");function an(t){return typeof t=="string"?t.split(Pa).filter(Boolean):t.flatMap(an)}i(an,"toArray");var tl=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function ro(t,e){e??=ke(1);try{await t()}catch(n){let r=new Xe(Ws,e,n);if(ad(r))return;js(r)}}i(ro,"addErrorHandler");function Ye(t,e){return e??=ke(1),(...n)=>{let r=ke(1);e=`${e??""}
    at --- convertAsyncToSync --- (0)
${r}`,Q(()=>t(...n),e)}}i(Ye,"convertAsyncToSync");function ad(t){let e=t;for(;!(e instanceof Ft);){if(!(e instanceof Error))return!1;e=e.cause}return we("Async:handleSilentError")(t),!0}i(ad,"handleSilentError");function Q(t,e){e??=ke(1),ro(t,e)}i(Q,"invokeAsyncSafely");function Ma(t,e=0,n,r){r??=Oe(),r.throwIfAborted(),n??=ke(1),Q(async()=>{await oo(e,r,!0),await t(r)},n)}i(Ma,"invokeAsyncSafelyAfterDelay");var ld=new WeakSet;async function _a(t){let e=we("Async:retryWithTimeout"),n=t.stackTrace??ke(1),o={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...t.retryOptions};o.abortSignal?.throwIfAborted(),await io({context:{operationName:t.operationName??"",retryFn:t.operationFn},onTimeout:t.onTimeout,async operationFn(s){let a=dt(o.abortSignal,s);a.throwIfAborted();let l=0;for(;!a.aborted;){l++;let u;try{u=await t.operationFn(a)}catch(c){if(a.aborted||!o.shouldRetryOnError||ld.has(c))throw new Xe("retryWithTimeout failed",n,c);nn(c),u=!1}if(u){ze(e,n,`Retry completed successfully after ${String(l)} attempts`,{operationFn:t.operationFn,operationName:t.operationName??""});return}ze(e,n,`Retry attempt ${String(l)} completed unsuccessfully. Trying again in ${String(o.retryDelayInMilliseconds)} milliseconds`,{operationFn:t.operationFn,operationName:t.operationName??""}),await oo(o.retryDelayInMilliseconds,s)}},operationName:t.operationName??"",stackTrace:n,timeoutInMilliseconds:o.timeoutInMilliseconds})}i(_a,"retryWithTimeout");async function io(t){let e=t.stackTrace??ke(1),n=performance.now(),r=new AbortController,o=new AbortController,s=null,a=!1,l=!1,u=we("Async:runWithTimeout"),c=t.onTimeout??p;if(await Promise.race([f(),d()]),a)return s;throw new Xe("Run with timeout failed",e,r.signal.reason);async function f(){try{s=await t.operationFn(r.signal);let h=Math.trunc(performance.now()-n);ze(u,e,`Execution time: ${String(h)} milliseconds`,{context:t.context,operationFn:t.operationFn,operationName:t.operationName??""}),a=!0}catch(h){r.abort(h)}finally{l=!0,o.abort(new Error("Completed"))}}async function d(){if(await oo(t.timeoutInMilliseconds,o.signal),l)return;let h=Math.trunc(performance.now()-n);ze(u,e,`Timed out after ${String(h)} milliseconds`,{context:t.context,operationFn:t.operationFn,operationName:t.operationName??""});let b={duration:h,onOperationCompleted(A){o.signal.addEventListener("abort",A)},operationName:t.operationName??"",terminateOperation(){let A=new Error(`Timed out after ${String(h)} milliseconds`);r.abort(A),o.abort(A)}};c(b),await Ui(o.signal)}function p(h){h.terminateOperation()}}i(io,"runWithTimeout");async function oo(t,e,n){await Ui(dt(e,Ks(t))),n&&e?.throwIfAborted()}i(oo,"sleep");var R=i(t=>typeof t=="string","isString"),ln=i(()=>{let t,e,n=new Promise((r,o)=>{t=r,e=o});return n.resolve=t,n.reject=e,n},"defer"),Ba=i(t=>t==null?"":""+t,"makeString"),ud=i((t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},"copy"),cd=/###/g,Va=i(t=>t&&t.indexOf("###")>-1?t.replace(cd,"."):t,"cleanKey"),za=i(t=>!t||R(t),"canNotTraverseDeeper"),un=i((t,e,n)=>{let r=R(e)?e.split("."):e,o=0;for(;o<r.length-1;){if(za(t))return{};let s=Va(r[o]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++o}return za(t)?{}:{obj:t,k:Va(r[o])}},"getLastOfPath"),$a=i((t,e,n)=>{let{obj:r,k:o}=un(t,e,Object);if(r!==void 0||e.length===1){r[o]=n;return}let s=e[e.length-1],a=e.slice(0,e.length-1),l=un(t,a,Object);for(;l.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),l=un(t,a,Object),l?.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=n},"setPath"),fd=i((t,e,n,r)=>{let{obj:o,k:s}=un(t,e,Object);o[s]=o[s]||[],o[s].push(n)},"pushPath"),nr=i((t,e)=>{let{obj:n,k:r}=un(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},"getPath"),dd=i((t,e,n)=>{let r=nr(t,n);return r!==void 0?r:nr(e,n)},"getPathWithDefaults"),Ga=i((t,e,n)=>{for(let r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?R(t[r])||t[r]instanceof String||R(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Ga(t[r],e[r],n):t[r]=e[r]);return t},"deepExtend"),Vt=i(t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"regexEscape"),pd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},hd=i(t=>R(t)?t.replace(/[&<>"'\/]/g,e=>pd[e]):t,"escape"),uo=class{static{i(this,"RegExpCache")}constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let n=this.regExpMap.get(e);if(n!==void 0)return n;let r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}},md=[" ",",","?","!",";"],gd=new uo(20),bd=i((t,e,n)=>{e=e||"",n=n||"";let r=md.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;let o=gd.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`),s=!o.test(t);if(!s){let a=t.indexOf(n);a>0&&!o.test(t.substring(0,a))&&(s=!0)}return s},"looksLikeObjectPath"),co=i((t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;let r=e.split(n),o=t;for(let s=0;s<r.length;){if(!o||typeof o!="object")return;let a,l="";for(let u=s;u<r.length;++u)if(u!==s&&(l+=n),l+=r[u],a=o[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&u<r.length-1)continue;s+=u-s+1;break}o=a}return o},"deepFind"),cn=i(t=>t?.replace("_","-"),"getCleanedCode"),wd={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}},fo=class t{static{i(this,"Logger")}constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||wd,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,o){return o&&!this.debug?null:(R(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new t(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},$e=new fo,zt=class{static{i(this,"EventEmitter")}constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);let o=this.observers[r].get(n)||0;this.observers[r].set(n,o+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([o,s])=>{for(let a=0;a<s;a++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,s])=>{for(let a=0;a<s;a++)o.apply(o,[e,...n])})}},rr=class extends zt{static{i(this,"ResourceStore")}constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,o={}){let s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,a=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure,l;e.indexOf(".")>-1?l=e.split("."):(l=[e,n],r&&(Array.isArray(r)?l.push(...r):R(r)&&s?l.push(...r.split(s)):l.push(r)));let u=nr(this.data,l);return!u&&!n&&!r&&e.indexOf(".")>-1&&(e=l[0],n=l[1],r=l.slice(2).join(".")),u||!a||!R(r)?u:co(this.data?.[e]?.[n],r,s)}addResource(e,n,r,o,s={silent:!1}){let a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=[e,n];r&&(l=l.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(l=e.split("."),o=n,n=l[1]),this.addNamespaces(n),$a(this.data,l,o),s.silent||this.emit("added",e,n,r,o)}addResources(e,n,r,o={silent:!1}){for(let s in r)(R(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});o.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,o,s,a={silent:!1,skipCopy:!1}){let l=[e,n];e.indexOf(".")>-1&&(l=e.split("."),o=r,r=n,n=l[1]),this.addNamespaces(n);let u=nr(this.data,l)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),o?Ga(u,r,s):u={...u,...r},$a(this.data,l,u),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}},Ya={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,o){return t.forEach(s=>{e=this.processors[s]?.process(e,n,r,o)??e}),e}},Ja=Symbol("i18next/PATH_KEY");function yd(){let t=[],e=Object.create(null),n;return e.get=(r,o)=>(n?.revoke?.(),o===Ja?t:(t.push(o),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}i(yd,"createProxy");function po(t,e){let{[Ja]:n}=t(yd());return n.join(e?.keySeparator??".")}i(po,"keysFromSelector");var Wa={},so=i(t=>!R(t)&&typeof t!="boolean"&&typeof t!="number","shouldHandleAsObject"),ir=class t extends zt{static{i(this,"Translator")}constructor(e,n={}){super(),ud(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=$e.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){let r={...n};if(e==null)return!1;let o=this.resolve(e,r);if(o?.res===void 0)return!1;let s=so(o.res);return!(r.returnObjects===!1&&s)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");let o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,s=n.ns||this.options.defaultNS||[],a=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!bd(e,r,o);if(a&&!l){let u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:R(s)?[s]:s};let c=e.split(r);(r!==o||r===o&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(o)}return{key:e,namespaces:R(s)?[s]:s}}translate(e,n,r){let o=typeof n=="object"?{...n}:n;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),e==null)return"";typeof e=="function"&&(e=po(e,{...this.options,...o})),Array.isArray(e)||(e=[String(e)]);let s=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:l,namespaces:u}=this.extractFromKey(e[e.length-1],o),c=u[u.length-1],f=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");let d=o.lng||this.language,p=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d?.toLowerCase()==="cimode")return p?s?{res:`${c}${f}${l}`,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(o)}:`${c}${f}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(o)}:l;let h=this.resolve(e,o),b=h?.res,A=h?.usedKey||l,y=h?.exactUsedKey||l,w=["[object Number]","[object Function]","[object RegExp]"],C=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,S=o.count!==void 0&&!R(o.count),P=t.hasDefaultValue(o),x=S?this.pluralResolver.getSuffix(d,o.count,o):"",B=o.ordinal&&S?this.pluralResolver.getSuffix(d,o.count,{ordinal:!1}):"",U=S&&!o.ordinal&&o.count===0,D=U&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${x}`]||o[`defaultValue${B}`]||o.defaultValue,z=b;v&&!b&&P&&(z=D);let ee=so(z),W=Object.prototype.toString.apply(z);if(v&&z&&ee&&w.indexOf(W)<0&&!(R(C)&&Array.isArray(z))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(A,z,{...o,ns:u}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(h.res=T,h.usedParams=this.getUsedParamsDetails(o),h):T}if(a){let T=Array.isArray(z),L=T?[]:{},O=T?y:A;for(let V in z)if(Object.prototype.hasOwnProperty.call(z,V)){let j=`${O}${a}${V}`;P&&!b?L[V]=this.translate(j,{...o,defaultValue:so(D)?D[V]:void 0,joinArrays:!1,ns:u}):L[V]=this.translate(j,{...o,joinArrays:!1,ns:u}),L[V]===j&&(L[V]=z[V])}b=L}}else if(v&&R(C)&&Array.isArray(b))b=b.join(C),b&&(b=this.extendTranslation(b,e,o,r));else{let T=!1,L=!1;!this.isValidLookup(b)&&P&&(T=!0,b=D),this.isValidLookup(b)||(L=!0,b=l);let V=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&L?void 0:b,j=P&&D!==b&&this.options.updateMissing;if(L||T||j){if(this.logger.log(j?"updateKey":"missingKey",d,c,l,j?D:b),a){let q=this.resolve(l,{...o,keySeparator:!1});q&&q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let te=[],ce=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ce&&ce[0])for(let q=0;q<ce.length;q++)te.push(ce[q]);else this.options.saveMissingTo==="all"?te=this.languageUtils.toResolveHierarchy(o.lng||this.language):te.push(o.lng||this.language);let m=i((q,ne,g)=>{let se=P&&g!==b?g:V;this.options.missingKeyHandler?this.options.missingKeyHandler(q,c,ne,se,j,o):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(q,c,ne,se,j,o),this.emit("missingKey",q,c,ne,b)},"send");this.options.saveMissing&&(this.options.saveMissingPlurals&&S?te.forEach(q=>{let ne=this.pluralResolver.getSuffixes(q,o);U&&o[`defaultValue${this.options.pluralSeparator}zero`]&&ne.indexOf(`${this.options.pluralSeparator}zero`)<0&&ne.push(`${this.options.pluralSeparator}zero`),ne.forEach(g=>{m([q],l+g,o[`defaultValue${g}`]||D)})}):m(te,l,D))}b=this.extendTranslation(b,e,o,h,r),L&&b===l&&this.options.appendNamespaceToMissingKey&&(b=`${c}${f}${l}`),(L||T)&&this.options.parseMissingKeyHandler&&(b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${f}${l}`:l,T?b:void 0,o))}return s?(h.res=b,h.usedParams=this.getUsedParamsDetails(o),h):b}extendTranslation(e,n,r,o,s){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});let u=R(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),c;if(u){let d=e.match(this.interpolator.nestingRegexp);c=d&&d.length}let f=r.replace&&!R(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||o.usedLng,r),u){let d=e.match(this.interpolator.nestingRegexp),p=d&&d.length;c<p&&(r.nest=!1)}!r.lng&&o&&o.res&&(r.lng=this.language||o.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...d)=>s?.[0]===d[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${d[0]} in key: ${n[0]}`),null):this.translate(...d,n),r)),r.interpolation&&this.interpolator.reset()}let a=r.postProcess||this.options.postProcess,l=R(a)?[a]:a;return e!=null&&l?.length&&r.applyPostProcessor!==!1&&(e=Ya.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,o,s,a,l;return R(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;let c=this.extractFromKey(u,n),f=c.key;o=f;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));let p=n.count!==void 0&&!R(n.count),h=p&&!n.ordinal&&n.count===0,b=n.context!==void 0&&(R(n.context)||typeof n.context=="number")&&n.context!=="",A=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(y=>{this.isValidLookup(r)||(l=y,!Wa[`${A[0]}-${y}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(Wa[`${A[0]}-${y}`]=!0,this.logger.warn(`key "${o}" for languages "${A.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),A.forEach(w=>{if(this.isValidLookup(r))return;a=w;let C=[f];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(C,f,w,y,n);else{let S;p&&(S=this.pluralResolver.getSuffix(w,n.count,n));let P=`${this.options.pluralSeparator}zero`,x=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(n.ordinal&&S.indexOf(x)===0&&C.push(f+S.replace(x,this.options.pluralSeparator)),C.push(f+S),h&&C.push(f+P)),b){let B=`${f}${this.options.contextSeparator||"_"}${n.context}`;C.push(B),p&&(n.ordinal&&S.indexOf(x)===0&&C.push(B+S.replace(x,this.options.pluralSeparator)),C.push(B+S),h&&C.push(B+P))}}let v;for(;v=C.pop();)this.isValidLookup(r)||(s=v,r=this.getResource(w,y,v,n))}))})}),{res:r,usedKey:o,exactUsedKey:s,usedLng:a,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,o={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,o):this.resourceStore.getResource(e,n,r,o)}getUsedParamsDetails(e={}){let n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!R(e.replace),o=r?e.replace:e;if(r&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!r){o={...o};for(let s of n)delete o[s]}return o}static hasDefaultValue(e){let n="defaultValue";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}},or=class{static{i(this,"LanguageUtil")}constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=$e.create("languageUtils")}getScriptPartFromCode(e){if(e=cn(e),!e||e.indexOf("-")<0)return null;let n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=cn(e),!e||e.indexOf("-")<0)return e;let n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(R(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;let o=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;let o=this.getScriptPartFromCode(r);if(this.isSupportedCode(o))return n=o;let s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),R(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){let r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),o=[],s=i(a=>{a&&(this.isSupportedCode(a)?o.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))},"addCode");return R(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):R(e)&&s(this.formatLanguageCode(e)),r.forEach(a=>{o.indexOf(a)<0&&s(this.formatLanguageCode(a))}),o}},Ua={zero:0,one:1,two:2,few:3,many:4,other:5},ja={select:i(t=>t===1?"one":"other","select"),resolvedOptions:i(()=>({pluralCategories:["one","other"]}),"resolvedOptions")},ho=class{static{i(this,"PluralResolver")}constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=$e.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){let r=cn(e==="dev"?"en":e),o=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:o});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(r,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),ja;if(!e.match(/-|_/))return ja;let u=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(u,n)}return this.pluralRulesCache[s]=a,a}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(o=>`${n}${o}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((o,s)=>Ua[o]-Ua[s]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,n,r={}){let o=this.getRule(e,r);return o?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}},Ha=i((t,e,n,r=".",o=!0)=>{let s=dd(t,e,n);return!s&&o&&R(n)&&(s=co(t,n,r),s===void 0&&(s=co(e,n,r))),s},"deepFindWithDefaults"),ao=i(t=>t.replace(/\$/g,"$$$$"),"regexSafe"),sr=class{static{i(this,"Interpolator")}constructor(e={}){this.logger=$e.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:n,escapeValue:r,useRawValueToEscape:o,prefix:s,prefixEscaped:a,suffix:l,suffixEscaped:u,formatSeparator:c,unescapeSuffix:f,unescapePrefix:d,nestingPrefix:p,nestingPrefixEscaped:h,nestingSuffix:b,nestingSuffixEscaped:A,nestingOptionsSeparator:y,maxReplaces:w,alwaysFormat:C}=e.interpolation;this.escape=n!==void 0?n:hd,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=s?Vt(s):a||"{{",this.suffix=l?Vt(l):u||"}}",this.formatSeparator=c||",",this.unescapePrefix=f?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=p?Vt(p):h||Vt("$t("),this.nestingSuffix=b?Vt(b):A||Vt(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=w||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=i((n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g"),"getOrResetRegExp");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,o){let s,a,l,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=i(h=>{if(h.indexOf(this.formatSeparator)<0){let w=Ha(n,u,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,r,{...o,...n,interpolationkey:h}):w}let b=h.split(this.formatSeparator),A=b.shift().trim(),y=b.join(this.formatSeparator).trim();return this.format(Ha(n,u,A,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...o,...n,interpolationkey:A})},"handleFormat");this.resetRegExp();let f=o?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=o?.interpolation?.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:i(h=>ao(h),"safeValue")},{regex:this.regexp,safeValue:i(h=>this.escapeValue?ao(this.escape(h)):ao(h),"safeValue")}].forEach(h=>{for(l=0;s=h.regex.exec(e);){let b=s[1].trim();if(a=c(b),a===void 0)if(typeof f=="function"){let y=f(e,s,o);a=R(y)?y:""}else if(o&&Object.prototype.hasOwnProperty.call(o,b))a="";else if(d){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${b} for interpolating ${e}`),a="";else!R(a)&&!this.useRawValueToEscape&&(a=Ba(a));let A=h.safeValue(a);if(e=e.replace(s[0],A),d?(h.regex.lastIndex+=a.length,h.regex.lastIndex-=s[0].length):h.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,n,r={}){let o,s,a,l=i((u,c)=>{let f=this.nestingOptionsSeparator;if(u.indexOf(f)<0)return u;let d=u.split(new RegExp(`${f}[ ]*{`)),p=`{${d[1]}`;u=d[0],p=this.interpolate(p,a);let h=p.match(/'/g),b=p.match(/"/g);((h?.length??0)%2===0&&!b||b.length%2!==0)&&(p=p.replace(/'/g,'"'));try{a=JSON.parse(p),c&&(a={...c,...a})}catch(A){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,A),`${u}${f}${p}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,u},"handleHasOptions");for(;o=this.nestingRegexp.exec(e);){let u=[];a={...r},a=a.replace&&!R(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let c=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(c!==-1&&(u=o[1].slice(c).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),o[1]=o[1].slice(0,c)),s=n(l.call(this,o[1].trim(),a),a),s&&o[0]===e&&!R(s))return s;R(s)||(s=Ba(s)),s||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),s=""),u.length&&(s=u.reduce((f,d)=>this.format(f,d,r.lng,{...r,interpolationkey:o[1].trim()}),s.trim())),e=e.replace(o[0],s),this.regexp.lastIndex=0}return e}},xd=i(t=>{let e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){let r=t.split("(");e=r[0].toLowerCase().trim();let o=r[1].substring(0,r[1].length-1);e==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(a=>{if(a){let[l,...u]=a.split(":"),c=u.join(":").trim().replace(/^'+|'+$/g,""),f=l.trim();n[f]||(n[f]=c),c==="false"&&(n[f]=!1),c==="true"&&(n[f]=!0),isNaN(c)||(n[f]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},"parseFormatStr"),Ka=i(t=>{let e={};return(n,r,o)=>{let s=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(s={...s,[o.interpolationkey]:void 0});let a=r+JSON.stringify(s),l=e[a];return l||(l=t(cn(r),o),e[a]=l),l(n)}},"createCachedFormatter"),Cd=i(t=>(e,n,r)=>t(cn(n),r)(e),"createNonCachedFormatter"),mo=class{static{i(this,"Formatter")}constructor(e={}){this.logger=$e.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";let r=n.cacheInBuiltFormats?Ka:Cd;this.formats={number:r((o,s)=>{let a=new Intl.NumberFormat(o,{...s});return l=>a.format(l)}),currency:r((o,s)=>{let a=new Intl.NumberFormat(o,{...s,style:"currency"});return l=>a.format(l)}),datetime:r((o,s)=>{let a=new Intl.DateTimeFormat(o,{...s});return l=>a.format(l)}),relativetime:r((o,s)=>{let a=new Intl.RelativeTimeFormat(o,{...s});return l=>a.format(l,s.range||"day")}),list:r((o,s)=>{let a=new Intl.ListFormat(o,{...s});return l=>a.format(l)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Ka(n)}format(e,n,r,o={}){let s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){let l=s.findIndex(u=>u.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,u)=>{let{formatName:c,formatOptions:f}=xd(u);if(this.formats[c]){let d=l;try{let p=o?.formatParams?.[o.interpolationkey]||{},h=p.locale||p.lng||o.locale||o.lng||r;d=this.formats[c](l,h,{...f,...o,...p})}catch(p){this.logger.warn(p)}return d}else this.logger.warn(`there was no format function for ${c}`);return l},e)}},kd=i((t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},"removePending"),go=class extends zt{static{i(this,"Connector")}constructor(e,n,r,o={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=o,this.logger=$e.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,o.backend,o)}queueLoad(e,n,r,o){let s={},a={},l={},u={};return e.forEach(c=>{let f=!0;n.forEach(d=>{let p=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?a[p]===void 0&&(a[p]=!0):(this.state[p]=1,f=!1,a[p]===void 0&&(a[p]=!0),s[p]===void 0&&(s[p]=!0),u[d]===void 0&&(u[d]=!0)))}),f||(l[c]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(u)}}loaded(e,n,r){let o=e.split("|"),s=o[0],a=o[1];n&&this.emit("failedLoading",s,a,n),!n&&r&&this.store.addResourceBundle(s,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);let l={};this.queue.forEach(u=>{fd(u.loaded,[s],a),kd(u,e),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(c=>{l[c]||(l[c]={});let f=u.loaded[c];f.length&&f.forEach(d=>{l[c][d]===void 0&&(l[c][d]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(u=>!u.done)}read(e,n,r,o=0,s=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:o,wait:s,callback:a});return}this.readingCalls++;let l=i((c,f)=>{if(this.readingCalls--,this.waitingReads.length>0){let d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&f&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,o+1,s*2,a)},s);return}a(c,f)},"resolver"),u=this.backend[r].bind(this.backend);if(u.length===2){try{let c=u(e,n);c&&typeof c.then=="function"?c.then(f=>l(null,f)).catch(l):l(null,c)}catch(c){l(c)}return}return u(e,n,l)}prepareLoading(e,n,r={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();R(e)&&(e=this.languageUtils.toResolveHierarchy(e)),R(n)&&(n=[n]);let s=this.queueLoad(e,n,r,o);if(!s.toLoad.length)return s.pending.length||o(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){let r=e.split("|"),o=r[0],s=r[1];this.read(o,s,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${n}loading namespace ${s} for language ${o} failed`,a),!a&&l&&this.logger.log(`${n}loaded namespace ${s} for language ${o}`,l),this.loaded(e,a,l)})}saveMissing(e,n,r,o,s,a={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){let u={...a,isUpdate:s},c=this.backend.create.bind(this.backend);if(c.length<6)try{let f;c.length===5?f=c(e,n,r,o,u):f=c(e,n,r,o),f&&typeof f.then=="function"?f.then(d=>l(null,d)).catch(l):l(null,f)}catch(f){l(f)}else c(e,n,r,o,l,u)}!e||!e[0]||this.store.addResource(e[0],n,r,o)}}},lo=i(()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i(t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),R(t[1])&&(e.defaultValue=t[1]),R(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){let n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},"overloadTranslationOptionHandler"),interpolation:{escapeValue:!0,format:i(t=>t,"format"),prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),"get"),qa=i(t=>(R(t.ns)&&(t.ns=[t.ns]),R(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),R(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),"transformOptions"),tr=i(()=>{},"noop"),Ad=i(t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})},"bindMemberFunctions"),bo=class t extends zt{static{i(this,"I18n")}constructor(e={},n){if(super(),this.options=qa(e),this.services={},this.logger=$e,this.modules={external:[]},Ad(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(R(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let r=lo();this.options={...r,...this.options,...qa(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler);let o=i(c=>c?typeof c=="function"?new c:c:null,"createClassOnDemand");if(!this.options.isClone){this.modules.logger?$e.init(o(this.modules.logger),this.options):$e.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=mo;let f=new or(this.options);this.store=new rr(this.options.resources,this.options);let d=this.services;d.logger=$e,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new ho(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=o(c),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new sr(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new go(o(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(h,...b)=>{this.emit(h,...b)}),this.modules.languageDetector&&(d.languageDetector=o(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=o(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new ir(this.services,this.options),this.translator.on("*",(h,...b)=>{this.emit(h,...b)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,n||(n=tr),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...f)=>this.store[c](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...f)=>(this.store[c](...f),this)});let l=ln(),u=i(()=>{let c=i((f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),n(f,d)},"finish");if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)},"load");return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),l}loadResources(e,n=tr){let r=n,o=R(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(o?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();let s=[],a=i(l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(c=>{c!=="cimode"&&s.indexOf(c)<0&&s.push(c)})},"append");o?a(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>a(u)),this.options.preload?.forEach?.(l=>a(l)),this.services.backendConnector.load(s,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,n,r){let o=ln();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=tr),this.services.backendConnector.reload(e,n,s=>{o.resolve(),r(s)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ya.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){let r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;let r=ln();this.emit("languageChanging",e);let o=i(l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},"setLngProps"),s=i((l,u)=>{u?this.isLanguageChangingTo===e&&(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(l,(...c)=>this.t(...c))},"done"),a=i(l=>{!e&&!l&&this.services.languageDetector&&(l=[]);let u=R(l)?l:l&&l[0],c=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(R(l)?[l]:l);c&&(this.language||o(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector?.cacheUserLanguage?.(c)),this.loadResources(c,f=>{s(f,c)})},"setLng");return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,n,r){let o=i((s,a,...l)=>{let u;typeof a!="object"?u=this.options.overloadTranslationOptionHandler([s,a].concat(l)):u={...a},u.lng=u.lng||o.lng,u.lngs=u.lngs||o.lngs,u.ns=u.ns||o.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||o.keyPrefix);let c=this.options.keySeparator||".",f;return u.keyPrefix&&Array.isArray(s)?f=s.map(d=>(typeof d=="function"&&(d=po(d,{...this.options,...a})),`${u.keyPrefix}${c}${d}`)):(typeof s=="function"&&(s=po(s,{...this.options,...a})),f=u.keyPrefix?`${u.keyPrefix}${c}${s}`:s),this.t(f,u)},"fixedT");return R(e)?o.lng=e:o.lngs=e,o.ns=n,o.keyPrefix=r,o}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;let a=i((l,u)=>{let c=this.services.backendConnector.state[`${l}|${u}`];return c===-1||c===0||c===2},"loadNotPending");if(n.precheck){let l=n.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!o||a(s,e)))}loadNamespaces(e,n){let r=ln();return this.options.ns?(R(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){let r=ln();R(e)&&(e=[e]);let o=this.options.preload||[],s=e.filter(a=>o.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=o.concat(s),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{let o=new Intl.Locale(e);if(o&&o.getTextInfo){let s=o.getTextInfo();if(s&&s.direction)return s.direction}}catch{}let n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new or(lo());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){let r=new t(e,n);return r.createInstance=t.createInstance,r}cloneInstance(e={},n=tr){let r=e.forkResourceStore;r&&delete e.forkResourceStore;let o={...this.options,...e,isClone:!0},s=new t(o);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){let l=Object.keys(this.store.data).reduce((u,c)=>(u[c]={...this.store.data[c]},u[c]=Object.keys(u[c]).reduce((f,d)=>(f[d]={...u[c][d]},f),u[c]),u),{});s.store=new rr(l,o),s.services.resourceStore=s.store}if(e.interpolation){let u={...lo().interpolation,...this.options.interpolation,...e.interpolation},c={...o,interpolation:u};s.services.interpolator=new sr(c)}return s.translator=new ir(s.services,o),s.translator.on("*",(l,...u)=>{s.emit(l,...u)}),s.init(o,n),s.translator.options=o,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},ae=bo.createInstance(),p0=ae.createInstance,h0=ae.dir,Qa=ae.init,m0=ae.loadResources,g0=ae.reloadResources,b0=ae.use,w0=ae.changeLanguage,y0=ae.getFixedT,Xa=ae.t,x0=ae.exists,C0=ae.setDefaultNamespace,k0=ae.hasLoadedNamespace,A0=ae.loadNamespaces,v0=ae.loadLanguages;var el=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ar={obsidianDevUtils:{asyncWithNotice:{milliseconds:"milliseconds...",operation:"Operation",runningFor:"Running for",terminateOperation:"You can terminate the operation by clicking the button below, but be aware it might leave the vault in an inconsistent state.",timedOut:"The operation timed out after {{duration}} milliseconds."},buttons:{cancel:"Cancel",ok:"OK"},callout:{loadContent:"Load content for callout"},dataview:{itemsPerPage:"Items per page:",jumpToPage:"Jump to page:",pageHeader:"Page {{pageNumber}} of {{totalPages}}, Total items: {{totalItems}}"},metadataCache:{getBacklinksForFilePath:"Get backlinks for {{filePath}}"},notices:{attachmentIsStillUsed:"Attachment {{attachmentPath}} is still used by other notes. It will not be deleted.",unhandledError:"An unhandled error occurred. Please check the console for more information."},queue:{flushQueue:"Flush queue"},renameDeleteHandler:{handleDelete:"Handle delete: {{filePath}}",handleOrphanedRenames:"Handle orphaned renames",handleRename:"Handle rename: {{oldPath}} -> {{newPath}}",updatedLinks:"Updated {{linksCount}} links in {{filesCount}} files."},vault:{processFile:"Process file {{filePath}}"}}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var wo="en",vd={en:ar},lr=vd;i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Za="translation",yo=!1;async function xo(t,e=!0){yo||(yo=!0,await Qa({fallbackLng:wo,initAsync:e,interpolation:{escapeValue:!1},lng:(0,el.getLanguage)(),resources:Object.fromEntries(Object.entries(t).map(([n,r])=>[n,{[Za]:r}])),returnEmptyString:!1,returnNull:!1}),ae.addResourceBundle(wo,Za,ar,!0,!1))}i(xo,"initI18N");function Ed(t,e){return yo||(console.warn("I18N was not initialized, initializing default obsidian-dev-utils translations"),Q(()=>xo(lr,!1))),Xa(t,e)}i(Ed,"tImpl");var ie=Ed;i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function ur(t){return _a({...t,onTimeout:t.shouldShowTimeoutNotice?rl:il})}i(ur,"retryWithTimeoutNotice");async function nl(t){return io({...t,onTimeout:t.shouldShowTimeoutNotice?rl:il})}i(nl,"runWithTimeoutNotice");function rl(t){let e=Math.trunc(performance.now()-t.duration),n,r,o=1e3,s=new tl.Notice(createFragment(l=>{t.operationName&&(l.appendText(ie(c=>c.obsidianDevUtils.asyncWithNotice.operation)),l.appendText(": "),l.appendText(t.operationName),l.createEl("br")),l.appendText(ie(c=>c.obsidianDevUtils.asyncWithNotice.timedOut,{duration:t.duration})),l.createEl("br"),l.appendText(ie(c=>c.obsidianDevUtils.asyncWithNotice.runningFor)),l.appendText(" "),n=l.createSpan(),l.appendText(" "),l.appendText(ie(c=>c.obsidianDevUtils.asyncWithNotice.milliseconds)),l.createEl("br"),l.appendText(ie(c=>c.obsidianDevUtils.asyncWithNotice.terminateOperation)),l.createEl("br"),l.createEl("button",{text:ie(c=>c.obsidianDevUtils.buttons.cancel)}).addEventListener("click",()=>{t.terminateOperation(),clearInterval(r),s.hide()})}));a(),r=window.setInterval(a,o),t.onOperationCompleted(()=>{clearInterval(r),s.hide()});function a(){let l=Math.max(t.duration,Math.round((performance.now()-e)/o)*o);n.textContent=String(l)}i(a,"updateRunningTime")}i(rl,"onTimeoutNotice");function il(t){let e=Math.trunc(performance.now()-t.duration);t.onOperationCompleted(()=>{Bt("AsyncWithNotice:onTimeoutWithoutNotice")("Operation completed after timeout",{operationName:t.operationName,totalDuration:Math.trunc(performance.now()-e)})})}i(il,"onTimeoutWithoutNotice");var fn=require("@codemirror/state"),Co=require("@codemirror/view");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ol=new WeakMap;function ko(t){let e=al(t);t.cm.dispatch({effects:e.reconfigure([fn.EditorState.readOnly.of(!0),Co.EditorView.editable.of(!1)])})}i(ko,"lockEditor");function sl(t){let e=al(t);t.cm.dispatch({effects:e.reconfigure([fn.EditorState.readOnly.of(!1),Co.EditorView.editable.of(!0)])})}i(sl,"unlockEditor");function al(t){let e=ol.get(t);return e||(e=new fn.Compartment,ol.set(t,e)),e}i(al,"ensureCompartment");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function $t(t,e,n,r={}){let s={...{shouldFailOnMissingFile:!0,shouldLockEditorWhileProcessing:!0,shouldShowTimeoutNotice:!0,timeoutInMilliseconds:500},...r},a=new AbortController;s.abortSignal=dt(s.abortSignal,a.signal);let l=me(t,e),u=null;if(s.shouldLockEditorWhileProcessing){for(let c of t.workspace.getLeavesOfType(Bn.Markdown))c.view instanceof dn.MarkdownView&&c.view.file?.path===l&&ko(c.view.editor);u=t.workspace.on("active-leaf-change",c=>{c?.view instanceof dn.MarkdownView&&c.view.file?.path===l&&ko(c.view.editor)})}try{await ur({async operationFn(c){c.throwIfAborted();let f=await Ao(t,e);if(c.throwIfAborted(),f===null)return b();let d=await It(n,c,f);if(c.throwIfAborted(),d===null)return!1;let p=!0;if(!await ll(t,e,async A=>{c.throwIfAborted(),await t.vault.process(A,y=>(c.throwIfAborted(),y!==f?(we("Vault:process")("Content has changed since it was read. Retrying...",{actualContent:y,expectedContent:f,path:A.path}),p=!1,y):d)),c.throwIfAborted()}))return b();return p;function b(){if(s.shouldFailOnMissingFile)throw new Error(`File '${l}' not found`);return!0}},operationName:ie(c=>c.obsidianDevUtils.vault.processFile,{filePath:l}),retryOptions:s,shouldShowTimeoutNotice:s.shouldShowTimeoutNotice})}finally{u?.e.offref(u);for(let c of t.workspace.getLeavesOfType(Bn.Markdown))c.view instanceof dn.MarkdownView&&c.view.file?.path===l&&sl(c.view.editor)}}i($t,"process");async function Ao(t,e){let n=null;return await ll(t,e,async r=>{await cr(t,r),n=await t.vault.read(r)}),n}i(Ao,"readSafe");async function cr(t,e){if(!ge(t,e))return;let n=me(t,e);for(let r of t.workspace.getLeavesOfType(Bn.Markdown))r.view instanceof dn.MarkdownView&&r.view.file?.path===n&&r.view.dirty&&await r.view.save()}i(cr,"saveNote");async function ll(t,e,n){let r=me(t,e),o=tt(t,r);if(!o||o.deleted)return!1;try{return await n(o),!0}catch(s){if(o=tt(t,r),!o||o.deleted)return!1;throw s}}i(ll,"invokeFileActionSafe");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function vo(t,e,n){if(!n)return;let r=he(t,e);if(!ge(t,r))throw new Error(`File ${r.path} is not a markdown file.`);n===r.basename||n===r.name||await Eo(t,e,o=>{o.aliases??=[],o.aliases.includes(n)||o.aliases.push(n)})}i(vo,"addAlias");async function Eo(t,e,n,r={}){if(!ge(t,e))throw new Error(`File ${me(t,e)} is not a markdown file.`);await $t(t,e,async(o,s)=>{o.throwIfAborted();let a=mt(s),l=mt(s),u=await n(l,o);return o.throwIfAborted(),u===null?null:pe(a,l)?s:Hn(s,l)},r)}i(Eo,"processFrontmatter");var vn=require("obsidian");var Sd={};function bt(t,e){let n=e||Sd,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return cl(t,r,o)}i(bt,"toString");function cl(t,e,n){if(Td(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return ul(t.children,e,n)}return Array.isArray(t)?ul(t,e,n):""}i(cl,"one");function ul(t,e,n){let r=[],o=-1;for(;++o<t.length;)r[o]=cl(t[o],e,n);return r.join("")}i(ul,"all");function Td(t){return!!(t&&typeof t=="object")}i(Td,"node");var fl=document.createElement("i");function Wt(t){let e="&"+t+";";fl.innerHTML=e;let n=fl.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}i(Wt,"decodeNamedCharacterReference");function oe(t,e,n,r){let o=t.length,s=0,a;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}i(oe,"splice");function fe(t,e){return t.length>0?(oe(t,t.length,0,e),t):e}i(fe,"push");var dl={}.hasOwnProperty;function pl(t){let e={},n=-1;for(;++n<t.length;)Fd(e,t[n]);return e}i(pl,"combineExtensions");function Fd(t,e){let n;for(n in e){let o=(dl.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n],a;if(s)for(a in s){dl.call(o,a)||(o[a]=[]);let l=s[a];Id(o[a],Array.isArray(l)?l:l?[l]:[])}}}i(Fd,"syntaxExtension");function Id(t,e){let n=-1,r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);oe(t,0,0,r)}i(Id,"constructs");function fr(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}i(fr,"decodeNumericCharacterReference");function Je(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}i(Je,"normalizeIdentifier");var ve=nt(/[A-Za-z]/),de=nt(/[\dA-Za-z]/),hl=nt(/[#-'*+\--9=?A-Z^-~]/);function pn(t){return t!==null&&(t<32||t===127)}i(pn,"asciiControl");var hn=nt(/\d/),ml=nt(/[\dA-Fa-f]/),gl=nt(/[!-/:-@[-`{-~]/);function F(t){return t!==null&&t<-2}i(F,"markdownLineEnding");function G(t){return t!==null&&(t<0||t===32)}i(G,"markdownLineEndingOrSpace");function N(t){return t===-2||t===-1||t===32}i(N,"markdownSpace");var bl=nt(/\p{P}|\p{S}/u),wl=nt(/\s/);function nt(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}i(nt,"regexCheck");function _(t,e,n,r){let o=r?r-1:Number.POSITIVE_INFINITY,s=0;return a;function a(u){return N(u)?(t.enter(n),l(u)):e(u)}function l(u){return N(u)&&s++<o?(t.consume(u),l):(t.exit(n),e(u))}}i(_,"factorySpace");var yl={tokenize:Pd};function Pd(t){let e=t.attempt(this.parser.constructs.contentInitial,r,o),n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),_(t,e,"linePrefix")}function o(l){return t.enter("paragraph"),s(l)}function s(l){let u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(l)}function a(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return F(l)?(t.consume(l),t.exit("chunkText"),s):(t.consume(l),a)}}i(Pd,"initializeContent");var Cl={tokenize:Ld},xl={tokenize:Od};function Ld(t){let e=this,n=[],r=0,o,s,a;return l;function l(v){if(r<n.length){let S=n[r];return e.containerState=S[1],t.attempt(S[0].continuation,u,c)(v)}return c(v)}function u(v){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&C();let S=e.events.length,P=S,x;for(;P--;)if(e.events[P][0]==="exit"&&e.events[P][1].type==="chunkFlow"){x=e.events[P][1].end;break}w(r);let B=S;for(;B<e.events.length;)e.events[B][1].end={...x},B++;return oe(e.events,P+1,0,e.events.slice(S)),e.events.length=B,c(v)}return l(v)}function c(v){if(r===n.length){if(!o)return p(v);if(o.currentConstruct&&o.currentConstruct.concrete)return b(v);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(xl,f,d)(v)}function f(v){return o&&C(),w(r),p(v)}function d(v){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,b(v)}function p(v){return e.containerState={},t.attempt(xl,h,b)(v)}function h(v){return r++,n.push([e.currentConstruct,e.containerState]),p(v)}function b(v){if(v===null){o&&C(),w(0),t.consume(v);return}return o=o||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:s}),A(v)}function A(v){if(v===null){y(t.exit("chunkFlow"),!0),w(0),t.consume(v);return}return F(v)?(t.consume(v),y(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(v),A)}function y(v,S){let P=e.sliceStream(v);if(S&&P.push(null),v.previous=s,s&&(s.next=v),s=v,o.defineSkip(v.start),o.write(P),e.parser.lazy[v.start.line]){let x=o.events.length;for(;x--;)if(o.events[x][1].start.offset<a&&(!o.events[x][1].end||o.events[x][1].end.offset>a))return;let B=e.events.length,U=B,D,z;for(;U--;)if(e.events[U][0]==="exit"&&e.events[U][1].type==="chunkFlow"){if(D){z=e.events[U][1].end;break}D=!0}for(w(r),x=B;x<e.events.length;)e.events[x][1].end={...z},x++;oe(e.events,U+1,0,e.events.slice(B)),e.events.length=x}}function w(v){let S=n.length;for(;S-- >v;){let P=n[S];e.containerState=P[1],P[0].exit.call(e,t)}n.length=v}function C(){o.write([null]),s=void 0,o=void 0,e.containerState._closeFlow=void 0}}i(Ld,"initializeDocument");function Od(t,e,n){return _(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}i(Od,"tokenizeContainer");function Ut(t){if(t===null||G(t)||wl(t))return 1;if(bl(t))return 2}i(Ut,"classifyCharacter");function jt(t,e,n){let r=[],o=-1;for(;++o<t.length;){let s=t[o].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}i(jt,"resolveAll");var mn={name:"attention",resolveAll:Rd,tokenize:Dd};function Rd(t,e){let n=-1,r,o,s,a,l,u,c,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let d={...t[r][1].end},p={...t[n][1].start};kl(d,-u),kl(p,u),a={type:u>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:p},s={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},o={type:u>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},t[r][1].end={...a.start},t[n][1].start={...l.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=fe(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=fe(c,[["enter",o,e],["enter",a,e],["exit",a,e],["enter",s,e]]),c=fe(c,jt(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=fe(c,[["exit",s,e],["enter",l,e],["exit",l,e],["exit",o,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,c=fe(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,oe(t,r-1,n-r+3,c),n=r+c.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}i(Rd,"resolveAllAttention");function Dd(t,e){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=Ut(r),s;return a;function a(u){return s=u,t.enter("attentionSequence"),l(u)}function l(u){if(u===s)return t.consume(u),l;let c=t.exit("attentionSequence"),f=Ut(u),d=!f||f===2&&o||n.includes(u),p=!o||o===2&&f||n.includes(r);return c._open=!!(s===42?d:d&&(o||!p)),c._close=!!(s===42?p:p&&(f||!d)),e(u)}}i(Dd,"tokenizeAttention");function kl(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}i(kl,"movePoint");var So={name:"autolink",tokenize:Nd};function Nd(t,e,n){let r=0;return o;function o(h){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(h){return ve(h)?(t.consume(h),a):h===64?n(h):c(h)}function a(h){return h===43||h===45||h===46||de(h)?(r=1,l(h)):c(h)}function l(h){return h===58?(t.consume(h),r=0,u):(h===43||h===45||h===46||de(h))&&r++<32?(t.consume(h),l):(r=0,c(h))}function u(h){return h===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):h===null||h===32||h===60||pn(h)?n(h):(t.consume(h),u)}function c(h){return h===64?(t.consume(h),f):hl(h)?(t.consume(h),c):n(h)}function f(h){return de(h)?d(h):n(h)}function d(h){return h===46?(t.consume(h),r=0,f):h===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(h),t.exit("autolinkMarker"),t.exit("autolink"),e):p(h)}function p(h){if((h===45||de(h))&&r++<63){let b=h===45?p:d;return t.consume(h),b}return n(h)}}i(Nd,"tokenizeAutolink");var rt={partial:!0,tokenize:Md};function Md(t,e,n){return r;function r(s){return N(s)?_(t,o,"linePrefix")(s):o(s)}function o(s){return s===null||F(s)?e(s):n(s)}}i(Md,"tokenizeBlankLine");var dr={continuation:{tokenize:Bd},exit:Vd,name:"blockQuote",tokenize:_d};function _d(t,e,n){let r=this;return o;function o(a){if(a===62){let l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return N(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}i(_d,"tokenizeBlockQuoteStart");function Bd(t,e,n){let r=this;return o;function o(a){return N(a)?_(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(dr,e,n)(a)}}i(Bd,"tokenizeBlockQuoteContinuation");function Vd(t){t.exit("blockQuote")}i(Vd,"exit");var pr={name:"characterEscape",tokenize:zd};function zd(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),o}function o(s){return gl(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}i(zd,"tokenizeCharacterEscape");var hr={name:"characterReference",tokenize:$d};function $d(t,e,n){let r=this,o=0,s,a;return l;function l(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),u}function u(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,a=de,f(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=ml,f):(t.enter("characterReferenceValue"),s=7,a=hn,f(d))}function f(d){if(d===59&&o){let p=t.exit("characterReferenceValue");return a===de&&!Wt(r.sliceSerialize(p))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(d)&&o++<s?(t.consume(d),f):n(d)}}i($d,"tokenizeCharacterReference");var Al={partial:!0,tokenize:Ud},mr={concrete:!0,name:"codeFenced",tokenize:Wd};function Wd(t,e,n){let r=this,o={partial:!0,tokenize:P},s=0,a=0,l;return u;function u(x){return c(x)}function c(x){let B=r.events[r.events.length-1];return s=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,l=x,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(x)}function f(x){return x===l?(a++,t.consume(x),f):a<3?n(x):(t.exit("codeFencedFenceSequence"),N(x)?_(t,d,"whitespace")(x):d(x))}function d(x){return x===null||F(x)?(t.exit("codeFencedFence"),r.interrupt?e(x):t.check(Al,A,S)(x)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(x))}function p(x){return x===null||F(x)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(x)):N(x)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),_(t,h,"whitespace")(x)):x===96&&x===l?n(x):(t.consume(x),p)}function h(x){return x===null||F(x)?d(x):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),b(x))}function b(x){return x===null||F(x)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(x)):x===96&&x===l?n(x):(t.consume(x),b)}function A(x){return t.attempt(o,S,y)(x)}function y(x){return t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),w}function w(x){return s>0&&N(x)?_(t,C,"linePrefix",s+1)(x):C(x)}function C(x){return x===null||F(x)?t.check(Al,A,S)(x):(t.enter("codeFlowValue"),v(x))}function v(x){return x===null||F(x)?(t.exit("codeFlowValue"),C(x)):(t.consume(x),v)}function S(x){return t.exit("codeFenced"),e(x)}function P(x,B,U){let D=0;return z;function z(O){return x.enter("lineEnding"),x.consume(O),x.exit("lineEnding"),ee}function ee(O){return x.enter("codeFencedFence"),N(O)?_(x,W,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(O):W(O)}function W(O){return O===l?(x.enter("codeFencedFenceSequence"),T(O)):U(O)}function T(O){return O===l?(D++,x.consume(O),T):D>=a?(x.exit("codeFencedFenceSequence"),N(O)?_(x,L,"whitespace")(O):L(O)):U(O)}function L(O){return O===null||F(O)?(x.exit("codeFencedFence"),B(O)):U(O)}}}i(Wd,"tokenizeCodeFenced");function Ud(t,e,n){let r=this;return o;function o(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}i(Ud,"tokenizeNonLazyContinuation");var gn={name:"codeIndented",tokenize:Hd},jd={partial:!0,tokenize:Kd};function Hd(t,e,n){let r=this;return o;function o(c){return t.enter("codeIndented"),_(t,s,"linePrefix",5)(c)}function s(c){let f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?u(c):F(c)?t.attempt(jd,a,u)(c):(t.enter("codeFlowValue"),l(c))}function l(c){return c===null||F(c)?(t.exit("codeFlowValue"),a(c)):(t.consume(c),l)}function u(c){return t.exit("codeIndented"),e(c)}}i(Hd,"tokenizeCodeIndented");function Kd(t,e,n){let r=this;return o;function o(a){return r.parser.lazy[r.now().line]?n(a):F(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),o):_(t,s,"linePrefix",5)(a)}function s(a){let l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):F(a)?o(a):n(a)}}i(Kd,"tokenizeFurtherStart");var To={name:"codeText",previous:Gd,resolve:qd,tokenize:Yd};function qd(t){let e=t.length-4,n=3,r,o;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)o===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(o=r):(r===e||t[r][1].type==="lineEnding")&&(t[o][1].type="codeTextData",r!==o+2&&(t[o][1].end=t[r-1][1].end,t.splice(o+2,r-o-2),e-=r-o-2,r=o+2),o=void 0);return t}i(qd,"resolveCodeText");function Gd(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}i(Gd,"previous");function Yd(t,e,n){let r=this,o=0,s,a;return l;function l(p){return t.enter("codeText"),t.enter("codeTextSequence"),u(p)}function u(p){return p===96?(t.consume(p),o++,u):(t.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(t.enter("space"),t.consume(p),t.exit("space"),c):p===96?(a=t.enter("codeTextSequence"),s=0,d(p)):F(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),c):(t.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||F(p)?(t.exit("codeTextData"),c(p)):(t.consume(p),f)}function d(p){return p===96?(t.consume(p),s++,d):s===o?(t.exit("codeTextSequence"),t.exit("codeText"),e(p)):(a.type="codeTextData",f(p))}}i(Yd,"tokenizeCodeText");var gr=class{static{i(this,"SpliceBuffer")}constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){let o=n||0;this.setCursor(Math.trunc(e));let s=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&bn(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),bn(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),bn(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);bn(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);bn(this.left,n.reverse())}}};function bn(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}i(bn,"chunkedPush");function br(t){let e={},n=-1,r,o,s,a,l,u,c,f=new gr(t);for(;++n<f.length;){for(;n in e;)n=e[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Jd(f,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,o=void 0;s--;)if(a=f.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(o&&(f.get(o)[1].type="lineEndingBlank"),a[1].type="lineEnding",o=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;o&&(r[1].end={...f.get(o)[1].start},l=f.slice(o,n),l.unshift(r),f.splice(o,n-o+1,l))}}return oe(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!c}i(br,"subtokenize");function Jd(t,e){let n=t.get(e)[1],r=t.get(e)[2],o=e-1,s=[],a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));let l=a.events,u=[],c={},f,d,p=-1,h=n,b=0,A=0,y=[A];for(;h;){for(;t.get(++o)[1]!==h;);s.push(o),h._tokenizer||(f=r.sliceStream(h),h.next||f.push(null),d&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(f),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++p<l.length;)l[p][0]==="exit"&&l[p-1][0]==="enter"&&l[p][1].type===l[p-1][1].type&&l[p][1].start.line!==l[p][1].end.line&&(A=p+1,y.push(A),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):y.pop(),p=y.length;p--;){let w=l.slice(y[p],y[p+1]),C=s.pop();u.push([C,C+w.length-1]),t.splice(C,2,w)}for(u.reverse(),p=-1;++p<u.length;)c[b+u[p][0]]=b+u[p][1],b+=u[p][1]-u[p][0]-1;return c}i(Jd,"subcontent");var Fo={resolve:Xd,tokenize:Zd},Qd={partial:!0,tokenize:ep};function Xd(t){return br(t),t}i(Xd,"resolveContent");function Zd(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),o(l)}function o(l){return l===null?s(l):F(l)?t.check(Qd,a,s)(l):(t.consume(l),o)}function s(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function a(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}i(Zd,"tokenizeContent");function ep(t,e,n){let r=this;return o;function o(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),_(t,s,"linePrefix")}function s(a){if(a===null||F(a))return n(a);let l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}i(ep,"tokenizeContinuation");function wr(t,e,n,r,o,s,a,l,u){let c=u||Number.POSITIVE_INFINITY,f=0;return d;function d(w){return w===60?(t.enter(r),t.enter(o),t.enter(s),t.consume(w),t.exit(s),p):w===null||w===32||w===41||pn(w)?n(w):(t.enter(r),t.enter(a),t.enter(l),t.enter("chunkString",{contentType:"string"}),A(w))}function p(w){return w===62?(t.enter(s),t.consume(w),t.exit(s),t.exit(o),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===62?(t.exit("chunkString"),t.exit(l),p(w)):w===null||w===60||F(w)?n(w):(t.consume(w),w===92?b:h)}function b(w){return w===60||w===62||w===92?(t.consume(w),h):h(w)}function A(w){return!f&&(w===null||w===41||G(w))?(t.exit("chunkString"),t.exit(l),t.exit(a),t.exit(r),e(w)):f<c&&w===40?(t.consume(w),f++,A):w===41?(t.consume(w),f--,A):w===null||w===32||w===40||pn(w)?n(w):(t.consume(w),w===92?y:A)}function y(w){return w===40||w===41||w===92?(t.consume(w),A):A(w)}}i(wr,"factoryDestination");function yr(t,e,n,r,o,s){let a=this,l=0,u;return c;function c(h){return t.enter(r),t.enter(o),t.consume(h),t.exit(o),t.enter(s),f}function f(h){return l>999||h===null||h===91||h===93&&!u||h===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(h):h===93?(t.exit(s),t.enter(o),t.consume(h),t.exit(o),t.exit(r),e):F(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||F(h)||l++>999?(t.exit("chunkString"),f(h)):(t.consume(h),u||(u=!N(h)),h===92?p:d)}function p(h){return h===91||h===92||h===93?(t.consume(h),l++,d):d(h)}}i(yr,"factoryLabel");function xr(t,e,n,r,o,s){let a;return l;function l(p){return p===34||p===39||p===40?(t.enter(r),t.enter(o),t.consume(p),t.exit(o),a=p===40?41:p,u):n(p)}function u(p){return p===a?(t.enter(o),t.consume(p),t.exit(o),t.exit(r),e):(t.enter(s),c(p))}function c(p){return p===a?(t.exit(s),u(a)):p===null?n(p):F(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),_(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===a||p===null||F(p)?(t.exit("chunkString"),c(p)):(t.consume(p),p===92?d:f)}function d(p){return p===a||p===92?(t.consume(p),f):f(p)}}i(xr,"factoryTitle");function wt(t,e){let n;return r;function r(o){return F(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),n=!0,r):N(o)?_(t,r,n?"linePrefix":"lineSuffix")(o):e(o)}}i(wt,"factoryWhitespace");var Io={name:"definition",tokenize:np},tp={partial:!0,tokenize:rp};function np(t,e,n){let r=this,o;return s;function s(h){return t.enter("definition"),a(h)}function a(h){return yr.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function l(h){return o=Je(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(t.enter("definitionMarker"),t.consume(h),t.exit("definitionMarker"),u):n(h)}function u(h){return G(h)?wt(t,c)(h):c(h)}function c(h){return wr(t,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function f(h){return t.attempt(tp,d,d)(h)}function d(h){return N(h)?_(t,p,"whitespace")(h):p(h)}function p(h){return h===null||F(h)?(t.exit("definition"),r.parser.defined.push(o),e(h)):n(h)}}i(np,"tokenizeDefinition");function rp(t,e,n){return r;function r(l){return G(l)?wt(t,o)(l):n(l)}function o(l){return xr(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return N(l)?_(t,a,"whitespace")(l):a(l)}function a(l){return l===null||F(l)?e(l):n(l)}}i(rp,"tokenizeTitleBefore");var Po={name:"hardBreakEscape",tokenize:ip};function ip(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),o}function o(s){return F(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}i(ip,"tokenizeHardBreakEscape");var Lo={name:"headingAtx",resolve:op,tokenize:sp};function op(t,e){let n=t.length-2,r=3,o,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},oe(t,r,n-r+1,[["enter",o,e],["enter",s,e],["exit",s,e],["exit",o,e]])),t}i(op,"resolveHeadingAtx");function sp(t,e,n){let r=0;return o;function o(f){return t.enter("atxHeading"),s(f)}function s(f){return t.enter("atxHeadingSequence"),a(f)}function a(f){return f===35&&r++<6?(t.consume(f),a):f===null||G(f)?(t.exit("atxHeadingSequence"),l(f)):n(f)}function l(f){return f===35?(t.enter("atxHeadingSequence"),u(f)):f===null||F(f)?(t.exit("atxHeading"),e(f)):N(f)?_(t,l,"whitespace")(f):(t.enter("atxHeadingText"),c(f))}function u(f){return f===35?(t.consume(f),u):(t.exit("atxHeadingSequence"),l(f))}function c(f){return f===null||f===35||G(f)?(t.exit("atxHeadingText"),l(f)):(t.consume(f),c)}}i(sp,"tokenizeHeadingAtx");var vl=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Oo=["pre","script","style","textarea"];var Ro={concrete:!0,name:"htmlFlow",resolveTo:up,tokenize:cp},ap={partial:!0,tokenize:dp},lp={partial:!0,tokenize:fp};function up(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}i(up,"resolveToHtmlFlow");function cp(t,e,n){let r=this,o,s,a,l,u;return c;function c(g){return f(g)}function f(g){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(g),d}function d(g){return g===33?(t.consume(g),p):g===47?(t.consume(g),s=!0,A):g===63?(t.consume(g),o=3,r.interrupt?e:m):ve(g)?(t.consume(g),a=String.fromCharCode(g),y):n(g)}function p(g){return g===45?(t.consume(g),o=2,h):g===91?(t.consume(g),o=5,l=0,b):ve(g)?(t.consume(g),o=4,r.interrupt?e:m):n(g)}function h(g){return g===45?(t.consume(g),r.interrupt?e:m):n(g)}function b(g){let se="CDATA[";return g===se.charCodeAt(l++)?(t.consume(g),l===se.length?r.interrupt?e:W:b):n(g)}function A(g){return ve(g)?(t.consume(g),a=String.fromCharCode(g),y):n(g)}function y(g){if(g===null||g===47||g===62||G(g)){let se=g===47,lt=a.toLowerCase();return!se&&!s&&Oo.includes(lt)?(o=1,r.interrupt?e(g):W(g)):vl.includes(a.toLowerCase())?(o=6,se?(t.consume(g),w):r.interrupt?e(g):W(g)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(g):s?C(g):v(g))}return g===45||de(g)?(t.consume(g),a+=String.fromCharCode(g),y):n(g)}function w(g){return g===62?(t.consume(g),r.interrupt?e:W):n(g)}function C(g){return N(g)?(t.consume(g),C):z(g)}function v(g){return g===47?(t.consume(g),z):g===58||g===95||ve(g)?(t.consume(g),S):N(g)?(t.consume(g),v):z(g)}function S(g){return g===45||g===46||g===58||g===95||de(g)?(t.consume(g),S):P(g)}function P(g){return g===61?(t.consume(g),x):N(g)?(t.consume(g),P):v(g)}function x(g){return g===null||g===60||g===61||g===62||g===96?n(g):g===34||g===39?(t.consume(g),u=g,B):N(g)?(t.consume(g),x):U(g)}function B(g){return g===u?(t.consume(g),u=null,D):g===null||F(g)?n(g):(t.consume(g),B)}function U(g){return g===null||g===34||g===39||g===47||g===60||g===61||g===62||g===96||G(g)?P(g):(t.consume(g),U)}function D(g){return g===47||g===62||N(g)?v(g):n(g)}function z(g){return g===62?(t.consume(g),ee):n(g)}function ee(g){return g===null||F(g)?W(g):N(g)?(t.consume(g),ee):n(g)}function W(g){return g===45&&o===2?(t.consume(g),V):g===60&&o===1?(t.consume(g),j):g===62&&o===4?(t.consume(g),q):g===63&&o===3?(t.consume(g),m):g===93&&o===5?(t.consume(g),ce):F(g)&&(o===6||o===7)?(t.exit("htmlFlowData"),t.check(ap,ne,T)(g)):g===null||F(g)?(t.exit("htmlFlowData"),T(g)):(t.consume(g),W)}function T(g){return t.check(lp,L,ne)(g)}function L(g){return t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),O}function O(g){return g===null||F(g)?T(g):(t.enter("htmlFlowData"),W(g))}function V(g){return g===45?(t.consume(g),m):W(g)}function j(g){return g===47?(t.consume(g),a="",te):W(g)}function te(g){if(g===62){let se=a.toLowerCase();return Oo.includes(se)?(t.consume(g),q):W(g)}return ve(g)&&a.length<8?(t.consume(g),a+=String.fromCharCode(g),te):W(g)}function ce(g){return g===93?(t.consume(g),m):W(g)}function m(g){return g===62?(t.consume(g),q):g===45&&o===2?(t.consume(g),m):W(g)}function q(g){return g===null||F(g)?(t.exit("htmlFlowData"),ne(g)):(t.consume(g),q)}function ne(g){return t.exit("htmlFlow"),e(g)}}i(cp,"tokenizeHtmlFlow");function fp(t,e,n){let r=this;return o;function o(a){return F(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}i(fp,"tokenizeNonLazyContinuationStart");function dp(t,e,n){return r;function r(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),t.attempt(rt,e,n)}}i(dp,"tokenizeBlankLineBefore");var Do={name:"htmlText",tokenize:pp};function pp(t,e,n){let r=this,o,s,a;return l;function l(m){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(m),u}function u(m){return m===33?(t.consume(m),c):m===47?(t.consume(m),P):m===63?(t.consume(m),v):ve(m)?(t.consume(m),U):n(m)}function c(m){return m===45?(t.consume(m),f):m===91?(t.consume(m),s=0,b):ve(m)?(t.consume(m),C):n(m)}function f(m){return m===45?(t.consume(m),h):n(m)}function d(m){return m===null?n(m):m===45?(t.consume(m),p):F(m)?(a=d,j(m)):(t.consume(m),d)}function p(m){return m===45?(t.consume(m),h):d(m)}function h(m){return m===62?V(m):m===45?p(m):d(m)}function b(m){let q="CDATA[";return m===q.charCodeAt(s++)?(t.consume(m),s===q.length?A:b):n(m)}function A(m){return m===null?n(m):m===93?(t.consume(m),y):F(m)?(a=A,j(m)):(t.consume(m),A)}function y(m){return m===93?(t.consume(m),w):A(m)}function w(m){return m===62?V(m):m===93?(t.consume(m),w):A(m)}function C(m){return m===null||m===62?V(m):F(m)?(a=C,j(m)):(t.consume(m),C)}function v(m){return m===null?n(m):m===63?(t.consume(m),S):F(m)?(a=v,j(m)):(t.consume(m),v)}function S(m){return m===62?V(m):v(m)}function P(m){return ve(m)?(t.consume(m),x):n(m)}function x(m){return m===45||de(m)?(t.consume(m),x):B(m)}function B(m){return F(m)?(a=B,j(m)):N(m)?(t.consume(m),B):V(m)}function U(m){return m===45||de(m)?(t.consume(m),U):m===47||m===62||G(m)?D(m):n(m)}function D(m){return m===47?(t.consume(m),V):m===58||m===95||ve(m)?(t.consume(m),z):F(m)?(a=D,j(m)):N(m)?(t.consume(m),D):V(m)}function z(m){return m===45||m===46||m===58||m===95||de(m)?(t.consume(m),z):ee(m)}function ee(m){return m===61?(t.consume(m),W):F(m)?(a=ee,j(m)):N(m)?(t.consume(m),ee):D(m)}function W(m){return m===null||m===60||m===61||m===62||m===96?n(m):m===34||m===39?(t.consume(m),o=m,T):F(m)?(a=W,j(m)):N(m)?(t.consume(m),W):(t.consume(m),L)}function T(m){return m===o?(t.consume(m),o=void 0,O):m===null?n(m):F(m)?(a=T,j(m)):(t.consume(m),T)}function L(m){return m===null||m===34||m===39||m===60||m===61||m===96?n(m):m===47||m===62||G(m)?D(m):(t.consume(m),L)}function O(m){return m===47||m===62||G(m)?D(m):n(m)}function V(m){return m===62?(t.consume(m),t.exit("htmlTextData"),t.exit("htmlText"),e):n(m)}function j(m){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),te}function te(m){return N(m)?_(t,ce,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):ce(m)}function ce(m){return t.enter("htmlTextData"),a(m)}}i(pp,"tokenizeHtmlText");var yt={name:"labelEnd",resolveAll:bp,resolveTo:wp,tokenize:yp},hp={tokenize:xp},mp={tokenize:Cp},gp={tokenize:kp};function bp(t){let e=-1,n=[];for(;++e<t.length;){let r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){let o=r.type==="labelImage"?4:2;r.type="data",e+=o}}return t.length!==n.length&&oe(t,0,t.length,n),t}i(bp,"resolveAllLabelEnd");function wp(t,e){let n=t.length,r=0,o,s,a,l;for(;n--;)if(o=t[n][1],s){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;t[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(s=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(a=n);let u={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[a][1].end}},f={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[a-2][1].start}};return l=[["enter",u,e],["enter",c,e]],l=fe(l,t.slice(s+1,s+r+3)),l=fe(l,[["enter",f,e]]),l=fe(l,jt(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),l=fe(l,[["exit",f,e],t[a-2],t[a-1],["exit",c,e]]),l=fe(l,t.slice(a+1)),l=fe(l,[["exit",u,e]]),oe(t,s,t.length,l),t}i(wp,"resolveToLabelEnd");function yp(t,e,n){let r=this,o=r.events.length,s,a;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){s=r.events[o][1];break}return l;function l(p){return s?s._inactive?d(p):(a=r.parser.defined.includes(Je(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),u):n(p)}function u(p){return p===40?t.attempt(hp,f,a?f:d)(p):p===91?t.attempt(mp,f,a?c:d)(p):a?f(p):d(p)}function c(p){return t.attempt(gp,f,d)(p)}function f(p){return e(p)}function d(p){return s._balanced=!0,n(p)}}i(yp,"tokenizeLabelEnd");function xp(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),o}function o(d){return G(d)?wt(t,s)(d):s(d)}function s(d){return d===41?f(d):wr(t,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return G(d)?wt(t,u)(d):f(d)}function l(d){return n(d)}function u(d){return d===34||d===39||d===40?xr(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):f(d)}function c(d){return G(d)?wt(t,f)(d):f(d)}function f(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}i(xp,"tokenizeResource");function Cp(t,e,n){let r=this;return o;function o(l){return yr.call(r,t,s,a,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(Je(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function a(l){return n(l)}}i(Cp,"tokenizeReferenceFull");function kp(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),o}function o(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}i(kp,"tokenizeReferenceCollapsed");var No={name:"labelStartImage",resolveAll:yt.resolveAll,tokenize:Ap};function Ap(t,e,n){let r=this;return o;function o(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),s}function s(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}i(Ap,"tokenizeLabelStartImage");var Mo={name:"labelStartLink",resolveAll:yt.resolveAll,tokenize:vp};function vp(t,e,n){let r=this;return o;function o(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}i(vp,"tokenizeLabelStartLink");var wn={name:"lineEnding",tokenize:Ep};function Ep(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),_(t,e,"linePrefix")}}i(Ep,"tokenizeLineEnding");var xt={name:"thematicBreak",tokenize:Sp};function Sp(t,e,n){let r=0,o;return s;function s(c){return t.enter("thematicBreak"),a(c)}function a(c){return o=c,l(c)}function l(c){return c===o?(t.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||F(c))?(t.exit("thematicBreak"),e(c)):n(c)}function u(c){return c===o?(t.consume(c),r++,u):(t.exit("thematicBreakSequence"),N(c)?_(t,l,"whitespace")(c):l(c))}}i(Sp,"tokenizeThematicBreak");var le={continuation:{tokenize:Pp},exit:Op,name:"list",tokenize:Ip},Tp={partial:!0,tokenize:Rp},Fp={partial:!0,tokenize:Lp};function Ip(t,e,n){let r=this,o=r.events[r.events.length-1],s=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,a=0;return l;function l(h){let b=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:hn(h)){if(r.containerState.type||(r.containerState.type=b,t.enter(b,{_container:!0})),b==="listUnordered")return t.enter("listItemPrefix"),h===42||h===45?t.check(xt,n,c)(h):c(h);if(!r.interrupt||h===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(h)}return n(h)}function u(h){return hn(h)&&++a<10?(t.consume(h),u):(!r.interrupt||a<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(t.exit("listItemValue"),c(h)):n(h)}function c(h){return t.enter("listItemMarker"),t.consume(h),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,t.check(rt,r.interrupt?n:f,t.attempt(Tp,p,d))}function f(h){return r.containerState.initialBlankLine=!0,s++,p(h)}function d(h){return N(h)?(t.enter("listItemPrefixWhitespace"),t.consume(h),t.exit("listItemPrefixWhitespace"),p):n(h)}function p(h){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(h)}}i(Ip,"tokenizeListStart");function Pp(t,e,n){let r=this;return r.containerState._closeFlow=void 0,t.check(rt,o,s);function o(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,_(t,e,"listItemIndent",r.containerState.size+1)(l)}i(o,"onBlank");function s(l){return r.containerState.furtherBlankLines||!N(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(Fp,e,a)(l))}i(s,"notBlank");function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,_(t,t.attempt(le,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}i(a,"notInCurrentItem")}i(Pp,"tokenizeListContinuation");function Lp(t,e,n){let r=this;return _(t,o,"listItemIndent",r.containerState.size+1);function o(s){let a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}i(Lp,"tokenizeIndent");function Op(t){t.exit(this.containerState.type)}i(Op,"tokenizeListEnd");function Rp(t,e,n){let r=this;return _(t,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(s){let a=r.events[r.events.length-1];return!N(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}i(Rp,"tokenizeListItemPrefixWhitespace");var Cr={name:"setextUnderline",resolveTo:Dp,tokenize:Np};function Dp(t,e){let n=t.length,r,o,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(o=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);let a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[o][1].type="setextHeadingText",s?(t.splice(o,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}i(Dp,"resolveToSetextUnderline");function Np(t,e,n){let r=this,o;return s;function s(c){let f=r.events.length,d;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){d=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),o=c,a(c)):n(c)}function a(c){return t.enter("setextHeadingLineSequence"),l(c)}function l(c){return c===o?(t.consume(c),l):(t.exit("setextHeadingLineSequence"),N(c)?_(t,u,"lineSuffix")(c):u(c))}function u(c){return c===null||F(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}i(Np,"tokenizeSetextUnderline");var El={tokenize:Mp};function Mp(t){let e=this,n=t.attempt(rt,r,t.attempt(this.parser.constructs.flowInitial,o,_(t,t.attempt(this.parser.constructs.flow,o,t.attempt(Fo,o)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function o(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}i(Mp,"initializeFlow");var Sl={resolveAll:Pl()},Tl=Il("string"),Fl=Il("text");function Il(t){return{resolveAll:Pl(t==="text"?_p:void 0),tokenize:e};function e(n){let r=this,o=this.parser.constructs[t],s=n.attempt(o,a,l);return a;function a(f){return c(f)?s(f):l(f)}function l(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),u}function u(f){return c(f)?(n.exit("data"),s(f)):(n.consume(f),u)}function c(f){if(f===null)return!0;let d=o[f],p=-1;if(d)for(;++p<d.length;){let h=d[p];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}i(Il,"initializeFactory");function Pl(t){return e;function e(n,r){let o=-1,s;for(;++o<=n.length;)s===void 0?n[o]&&n[o][1].type==="data"&&(s=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==s+2&&(n[s][1].end=n[o-1][1].end,n.splice(s+2,o-s-2),o=s+2),s=void 0);return t?t(n,r):n}}i(Pl,"createResolver");function _p(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let r=t[n-1][1],o=e.sliceStream(r),s=o.length,a=-1,l=0,u;for(;s--;){let c=o[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(c===-2)u=!0,l++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){let c={type:n===t.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}i(_p,"resolveAllLineSuffixes");var _o={};Vs(_o,{attentionMarkers:()=>Hp,contentInitial:()=>Vp,disable:()=>Kp,document:()=>Bp,flow:()=>$p,flowInitial:()=>zp,insideSpan:()=>jp,string:()=>Wp,text:()=>Up});var Bp={42:le,43:le,45:le,48:le,49:le,50:le,51:le,52:le,53:le,54:le,55:le,56:le,57:le,62:dr},Vp={91:Io},zp={[-2]:gn,[-1]:gn,32:gn},$p={35:Lo,42:xt,45:[Cr,xt],60:Ro,61:Cr,95:xt,96:mr,126:mr},Wp={38:hr,92:pr},Up={[-5]:wn,[-4]:wn,[-3]:wn,33:No,38:hr,42:mn,60:[So,Do],91:Mo,92:[Po,pr],93:yt,95:mn,96:To},jp={null:[mn,Sl]},Hp={null:[42,95]},Kp={null:[]};function Ll(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},o={},s=[],a=[],l=[],u=!0,c={attempt:D(B),check:D(U),consume:S,enter:P,exit:x,interrupt:D(U,{interrupt:!0})},f={code:null,containerState:{},defineSkip:w,events:[],now:y,parser:t,previous:null,sliceSerialize:b,sliceStream:A,write:h},d=e.tokenize.call(f,c),p;return e.resolveAll&&s.push(e),f;function h(T){return a=fe(a,T),C(),a[a.length-1]!==null?[]:(z(e,0),f.events=jt(s,f.events,f),f.events)}i(h,"write");function b(T,L){return Gp(A(T),L)}i(b,"sliceSerialize");function A(T){return qp(a,T)}i(A,"sliceStream");function y(){let{_bufferIndex:T,_index:L,line:O,column:V,offset:j}=r;return{_bufferIndex:T,_index:L,line:O,column:V,offset:j}}i(y,"now");function w(T){o[T.line]=T.column,W()}i(w,"defineSkip");function C(){let T;for(;r._index<a.length;){let L=a[r._index];if(typeof L=="string")for(T=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===T&&r._bufferIndex<L.length;)v(L.charCodeAt(r._bufferIndex));else v(L)}}i(C,"main");function v(T){u=void 0,p=T,d=d(T)}i(v,"go");function S(T){F(T)?(r.line++,r.column=1,r.offset+=T===-3?2:1,W()):T!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=T,u=!0}i(S,"consume");function P(T,L){let O=L||{};return O.type=T,O.start=y(),f.events.push(["enter",O,f]),l.push(O),O}i(P,"enter");function x(T){let L=l.pop();return L.end=y(),f.events.push(["exit",L,f]),L}i(x,"exit");function B(T,L){z(T,L.from)}i(B,"onsuccessfulconstruct");function U(T,L){L.restore()}i(U,"onsuccessfulcheck");function D(T,L){return O;function O(V,j,te){let ce,m,q,ne;return Array.isArray(V)?se(V):"tokenize"in V?se([V]):g(V);function g(re){return Xt;function Xt(Ue){let ut=Ue!==null&&re[Ue],Et=Ue!==null&&re.null,zi=[...Array.isArray(ut)?ut:ut?[ut]:[],...Array.isArray(Et)?Et:Et?[Et]:[]];return se(zi)(Ue)}}function se(re){return ce=re,m=0,re.length===0?te:lt(re[m])}function lt(re){return Xt;function Xt(Ue){return ne=ee(),q=re,re.partial||(f.currentConstruct=re),re.name&&f.parser.constructs.disable.null.includes(re.name)?Ln(Ue):re.tokenize.call(L?Object.assign(Object.create(f),L):f,c,Vi,Ln)(Ue)}}function Vi(re){return u=!0,T(q,ne),j}function Ln(re){return u=!0,ne.restore(),++m<ce.length?lt(ce[m]):te}}}i(D,"constructFactory");function z(T,L){T.resolveAll&&!s.includes(T)&&s.push(T),T.resolve&&oe(f.events,L,f.events.length-L,T.resolve(f.events.slice(L),f)),T.resolveTo&&(f.events=T.resolveTo(f.events,f))}i(z,"addResult");function ee(){let T=y(),L=f.previous,O=f.currentConstruct,V=f.events.length,j=Array.from(l);return{from:V,restore:te};function te(){r=T,f.previous=L,f.currentConstruct=O,f.events.length=V,l=j,W()}}i(ee,"store");function W(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}i(W,"accountForPotentialSkip")}i(Ll,"createTokenizer");function qp(t,e){let n=e.start._index,r=e.start._bufferIndex,o=e.end._index,s=e.end._bufferIndex,a;if(n===o)a=[t[n].slice(r,s)];else{if(a=t.slice(n,o),r>-1){let l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}s>0&&a.push(t[o].slice(0,s))}return a}i(qp,"sliceChunks");function Gp(t,e){let n=-1,r=[],o;for(;++n<t.length;){let s=t[n],a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&o)continue;a=" ";break}default:a=String.fromCharCode(s)}o=s===-2,r.push(a)}return r.join("")}i(Gp,"serializeChunks");function Bo(t){let r={constructs:pl([_o,...(t||{}).extensions||[]]),content:o(yl),defined:[],document:o(Cl),flow:o(El),lazy:{},string:o(Tl),text:o(Fl)};return r;function o(s){return a;function a(l){return Ll(r,s,l)}}}i(Bo,"parse");function Vo(t){for(;!br(t););return t}i(Vo,"postprocess");var Ol=/[\0\t\n\r]/g;function zo(){let t=1,e="",n=!0,r;return o;function o(s,a,l){let u=[],c,f,d,p,h;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(Ol.lastIndex=d,c=Ol.exec(s),p=c&&c.index!==void 0?c.index:s.length,h=s.charCodeAt(p),!c){e=s.slice(d);break}if(h===10&&d===p&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),d<p&&(u.push(s.slice(d,p)),t+=p-d),h){case 0:{u.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,u.push(-2);t++<f;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}d=p+1}return l&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}i(zo,"preprocess");var Yp=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function kr(t){return t.replace(Yp,Jp)}i(kr,"decodeString");function Jp(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let o=n.charCodeAt(1),s=o===120||o===88;return fr(n.slice(s?2:1),s?16:10)}return Wt(n)||t}i(Jp,"decode");function it(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Rl(t.position):"start"in t||"end"in t?Rl(t):"line"in t||"column"in t?$o(t):""}i(it,"stringifyPosition");function $o(t){return Dl(t&&t.line)+":"+Dl(t&&t.column)}i($o,"point");function Rl(t){return $o(t&&t.start)+"-"+$o(t&&t.end)}i(Rl,"position");function Dl(t){return t&&typeof t=="number"?t:1}i(Dl,"index");var Ml={}.hasOwnProperty;function Wo(t,e,n){return typeof e!="string"&&(n=e,e=void 0),Qp(n)(Vo(Bo(n).document().write(zo()(t,e,!0))))}i(Wo,"fromMarkdown");function Qp(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(_s),autolinkProtocol:D,autolinkEmail:D,atxHeading:s(Ds),blockQuote:s(Ue),characterEscape:D,characterReference:D,codeFenced:s(ut),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(ut,a),codeText:s(Et,a),codeTextData:D,data:D,codeFlowValue:D,definition:s(zi),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Bc),hardBreakEscape:s(Ns),hardBreakTrailing:s(Ns),htmlFlow:s(Ms,a),htmlFlowData:D,htmlText:s(Ms,a),htmlTextData:D,image:s(Vc),label:a,link:s(_s),listItem:s(zc),listItemValue:p,listOrdered:s(Bs,d),listUnordered:s(Bs),paragraph:s($c),reference:g,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Ds),strong:s(Wc),thematicBreak:s(jc)},exit:{atxHeading:u(),atxHeadingSequence:P,autolink:u(),autolinkEmail:Xt,autolinkProtocol:re,blockQuote:u(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:lt,characterReferenceMarkerNumeric:lt,characterReferenceValue:Vi,characterReference:Ln,codeFenced:u(y),codeFencedFence:A,codeFencedFenceInfo:h,codeFencedFenceMeta:b,codeFlowValue:z,codeIndented:u(w),codeText:u(O),codeTextData:z,data:z,definition:u(),definitionDestinationString:S,definitionLabelString:C,definitionTitleString:v,emphasis:u(),hardBreakEscape:u(W),hardBreakTrailing:u(W),htmlFlow:u(T),htmlFlowData:z,htmlText:u(L),htmlTextData:z,image:u(j),label:ce,labelText:te,lineEnding:ee,link:u(V),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:se,resourceDestinationString:m,resourceTitleString:q,resource:ne,setextHeading:u(U),setextHeadingLineSequence:B,setextHeadingText:x,strong:u(),thematicBreak:u()}};_l(e,(t||{}).mdastExtensions||[]);let n={};return r;function r(k){let E={type:"root",children:[]},M={stack:[E],tokenStack:[],config:e,enter:l,exit:c,buffer:a,resume:f,data:n},$=[],H=-1;for(;++H<k.length;)if(k[H][1].type==="listOrdered"||k[H][1].type==="listUnordered")if(k[H][0]==="enter")$.push(H);else{let Pe=$.pop();H=o(k,Pe,H)}for(H=-1;++H<k.length;){let Pe=e[k[H][0]];Ml.call(Pe,k[H][1].type)&&Pe[k[H][1].type].call(Object.assign({sliceSerialize:k[H][2].sliceSerialize},M),k[H][1])}if(M.tokenStack.length>0){let Pe=M.tokenStack[M.tokenStack.length-1];(Pe[1]||Nl).call(M,void 0,Pe[0])}for(E.position={start:ot(k.length>0?k[0][1].start:{line:1,column:1,offset:0}),end:ot(k.length>0?k[k.length-2][1].end:{line:1,column:1,offset:0})},H=-1;++H<e.transforms.length;)E=e.transforms[H](E)||E;return E}function o(k,E,M){let $=E-1,H=-1,Pe=!1,ct,je,Zt,en;for(;++$<=M;){let Ce=k[$];switch(Ce[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ce[0]==="enter"?H++:H--,en=void 0;break}case"lineEndingBlank":{Ce[0]==="enter"&&(ct&&!en&&!H&&!Zt&&(Zt=$),en=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:en=void 0}if(!H&&Ce[0]==="enter"&&Ce[1].type==="listItemPrefix"||H===-1&&Ce[0]==="exit"&&(Ce[1].type==="listUnordered"||Ce[1].type==="listOrdered")){if(ct){let St=$;for(je=void 0;St--;){let He=k[St];if(He[1].type==="lineEnding"||He[1].type==="lineEndingBlank"){if(He[0]==="exit")continue;je&&(k[je][1].type="lineEndingBlank",Pe=!0),He[1].type="lineEnding",je=St}else if(!(He[1].type==="linePrefix"||He[1].type==="blockQuotePrefix"||He[1].type==="blockQuotePrefixWhitespace"||He[1].type==="blockQuoteMarker"||He[1].type==="listItemIndent"))break}Zt&&(!je||Zt<je)&&(ct._spread=!0),ct.end=Object.assign({},je?k[je][1].start:Ce[1].end),k.splice(je||$,0,["exit",ct,Ce[2]]),$++,M++}if(Ce[1].type==="listItemPrefix"){let St={type:"listItem",_spread:!1,start:Object.assign({},Ce[1].start),end:void 0};ct=St,k.splice($,0,["enter",St,Ce[2]]),$++,M++,Zt=void 0,en=!0}}}return k[E][1]._spread=Pe,M}function s(k,E){return M;function M($){l.call(this,k($),$),E&&E.call(this,$)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(k,E,M){this.stack[this.stack.length-1].children.push(k),this.stack.push(k),this.tokenStack.push([E,M||void 0]),k.position={start:ot(E.start),end:void 0}}function u(k){return E;function E(M){k&&k.call(this,M),c.call(this,M)}}function c(k,E){let M=this.stack.pop(),$=this.tokenStack.pop();if($)$[0].type!==k.type&&(E?E.call(this,k,$[0]):($[1]||Nl).call(this,k,$[0]));else throw new Error("Cannot close `"+k.type+"` ("+it({start:k.start,end:k.end})+"): it\u2019s not open");M.position.end=ot(k.end)}function f(){return bt(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function p(k){if(this.data.expectingFirstListItemValue){let E=this.stack[this.stack.length-2];E.start=Number.parseInt(this.sliceSerialize(k),10),this.data.expectingFirstListItemValue=void 0}}function h(){let k=this.resume(),E=this.stack[this.stack.length-1];E.lang=k}function b(){let k=this.resume(),E=this.stack[this.stack.length-1];E.meta=k}function A(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){let k=this.resume(),E=this.stack[this.stack.length-1];E.value=k.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function w(){let k=this.resume(),E=this.stack[this.stack.length-1];E.value=k.replace(/(\r?\n|\r)$/g,"")}function C(k){let E=this.resume(),M=this.stack[this.stack.length-1];M.label=E,M.identifier=Je(this.sliceSerialize(k)).toLowerCase()}function v(){let k=this.resume(),E=this.stack[this.stack.length-1];E.title=k}function S(){let k=this.resume(),E=this.stack[this.stack.length-1];E.url=k}function P(k){let E=this.stack[this.stack.length-1];if(!E.depth){let M=this.sliceSerialize(k).length;E.depth=M}}function x(){this.data.setextHeadingSlurpLineEnding=!0}function B(k){let E=this.stack[this.stack.length-1];E.depth=this.sliceSerialize(k).codePointAt(0)===61?1:2}function U(){this.data.setextHeadingSlurpLineEnding=void 0}function D(k){let M=this.stack[this.stack.length-1].children,$=M[M.length-1];(!$||$.type!=="text")&&($=Uc(),$.position={start:ot(k.start),end:void 0},M.push($)),this.stack.push($)}function z(k){let E=this.stack.pop();E.value+=this.sliceSerialize(k),E.position.end=ot(k.end)}function ee(k){let E=this.stack[this.stack.length-1];if(this.data.atHardBreak){let M=E.children[E.children.length-1];M.position.end=ot(k.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(E.type)&&(D.call(this,k),z.call(this,k))}function W(){this.data.atHardBreak=!0}function T(){let k=this.resume(),E=this.stack[this.stack.length-1];E.value=k}function L(){let k=this.resume(),E=this.stack[this.stack.length-1];E.value=k}function O(){let k=this.resume(),E=this.stack[this.stack.length-1];E.value=k}function V(){let k=this.stack[this.stack.length-1];if(this.data.inReference){let E=this.data.referenceType||"shortcut";k.type+="Reference",k.referenceType=E,delete k.url,delete k.title}else delete k.identifier,delete k.label;this.data.referenceType=void 0}function j(){let k=this.stack[this.stack.length-1];if(this.data.inReference){let E=this.data.referenceType||"shortcut";k.type+="Reference",k.referenceType=E,delete k.url,delete k.title}else delete k.identifier,delete k.label;this.data.referenceType=void 0}function te(k){let E=this.sliceSerialize(k),M=this.stack[this.stack.length-2];M.label=kr(E),M.identifier=Je(E).toLowerCase()}function ce(){let k=this.stack[this.stack.length-1],E=this.resume(),M=this.stack[this.stack.length-1];if(this.data.inReference=!0,M.type==="link"){let $=k.children;M.children=$}else M.alt=E}function m(){let k=this.resume(),E=this.stack[this.stack.length-1];E.url=k}function q(){let k=this.resume(),E=this.stack[this.stack.length-1];E.title=k}function ne(){this.data.inReference=void 0}function g(){this.data.referenceType="collapsed"}function se(k){let E=this.resume(),M=this.stack[this.stack.length-1];M.label=E,M.identifier=Je(this.sliceSerialize(k)).toLowerCase(),this.data.referenceType="full"}function lt(k){this.data.characterReferenceType=k.type}function Vi(k){let E=this.sliceSerialize(k),M=this.data.characterReferenceType,$;M?($=fr(E,M==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):$=Wt(E);let H=this.stack[this.stack.length-1];H.value+=$}function Ln(k){let E=this.stack.pop();E.position.end=ot(k.end)}function re(k){z.call(this,k);let E=this.stack[this.stack.length-1];E.url=this.sliceSerialize(k)}function Xt(k){z.call(this,k);let E=this.stack[this.stack.length-1];E.url="mailto:"+this.sliceSerialize(k)}function Ue(){return{type:"blockquote",children:[]}}function ut(){return{type:"code",lang:null,meta:null,value:""}}function Et(){return{type:"inlineCode",value:""}}function zi(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Bc(){return{type:"emphasis",children:[]}}function Ds(){return{type:"heading",depth:0,children:[]}}function Ns(){return{type:"break"}}function Ms(){return{type:"html",value:""}}function Vc(){return{type:"image",title:null,url:"",alt:null}}function _s(){return{type:"link",title:null,url:"",children:[]}}function Bs(k){return{type:"list",ordered:k.type==="listOrdered",start:null,spread:k._spread,children:[]}}function zc(k){return{type:"listItem",spread:k._spread,checked:null,children:[]}}function $c(){return{type:"paragraph",children:[]}}function Wc(){return{type:"strong",children:[]}}function Uc(){return{type:"text",value:""}}function jc(){return{type:"thematicBreak"}}}i(Qp,"compiler");function ot(t){return{line:t.line,column:t.column,offset:t.offset}}i(ot,"point");function _l(t,e){let n=-1;for(;++n<e.length;){let r=e[n];Array.isArray(r)?_l(t,r):Xp(t,r)}}i(_l,"configure");function Xp(t,e){let n;for(n in e)if(Ml.call(e,n))switch(n){case"canContainEols":{let r=e[n];r&&t[n].push(...r);break}case"transforms":{let r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{let r=e[n];r&&Object.assign(t[n],r);break}}}i(Xp,"extension");function Nl(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+it({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+it({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+it({start:e.start,end:e.end})+") is still open")}i(Nl,"defaultOnError");function Ht(t){let e=this;e.parser=n;function n(r){return Wo(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}i(n,"parser")}i(Ht,"remarkParse");var Bl={}.hasOwnProperty;function Vl(t,e){let n=e||{};function r(o,...s){let a=r.invalid,l=r.handlers;if(o&&Bl.call(o,t)){let u=String(o[t]);a=Bl.call(l,u)?l[u]:r.unknown}if(a)return a.call(this,o,...s)}return i(r,"one"),r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}i(Vl,"zwitch");var Zp={}.hasOwnProperty;function Uo(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)Uo(t,e.extensions[n]);for(r in e)if(Zp.call(e,r))switch(r){case"extensions":break;case"unsafe":{zl(t[r],e[r]);break}case"join":{zl(t[r],e[r]);break}case"handlers":{eh(t[r],e[r]);break}default:t.options[r]=e[r]}return t}i(Uo,"configure");function zl(t,e){e&&t.push(...e)}i(zl,"list");function eh(t,e){e&&Object.assign(t,e)}i(eh,"map");function $l(t,e,n,r){let o=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);let a=n.indentLines(n.containerFlow(t,s.current()),th);return o(),a}i($l,"blockquote");function th(t,e,n){return">"+(n?"":" ")+t}i(th,"map");function Ar(t,e){return Wl(t,e.inConstruct,!0)&&!Wl(t,e.notInConstruct,!1)}i(Ar,"patternInScope");function Wl(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}i(Wl,"listInScope");function jo(t,e,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&Ar(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}i(jo,"hardBreak");function Ul(t,e){let n=String(t),r=n.indexOf(e),o=r,s=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++s>a&&(a=s):s=1,o=r+e.length,r=n.indexOf(e,o);return a}i(Ul,"longestStreak");function yn(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}i(yn,"formatCodeAsIndented");function jl(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}i(jl,"checkFence");function Hl(t,e,n,r){let o=jl(n),s=t.value||"",a=o==="`"?"GraveAccent":"Tilde";if(yn(t,n)){let d=n.enter("codeIndented"),p=n.indentLines(s,nh);return d(),p}let l=n.createTracker(r),u=o.repeat(Math.max(Ul(s,o)+1,3)),c=n.enter("codeFenced"),f=l.move(u);if(t.lang){let d=n.enter(`codeFencedLang${a}`);f+=l.move(n.safe(t.lang,{before:f,after:" ",encode:["`"],...l.current()})),d()}if(t.lang&&t.meta){let d=n.enter(`codeFencedMeta${a}`);f+=l.move(" "),f+=l.move(n.safe(t.meta,{before:f,after:`
`,encode:["`"],...l.current()})),d()}return f+=l.move(`
`),s&&(f+=l.move(s+`
`)),f+=l.move(u),c(),f}i(Hl,"code");function nh(t,e,n){return(n?"":"    ")+t}i(nh,"map");function Kt(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}i(Kt,"checkQuote");function Kl(t,e,n,r){let o=Kt(n),s=o==='"'?"Quote":"Apostrophe",a=n.enter("definition"),l=n.enter("label"),u=n.createTracker(r),c=u.move("[");return c+=u.move(n.safe(n.associationId(t),{before:c,after:"]",...u.current()})),c+=u.move("]: "),l(),!t.url||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(t.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(l=n.enter("destinationRaw"),c+=u.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...u.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=u.move(" "+o),c+=u.move(n.safe(t.title,{before:c,after:o,...u.current()})),c+=u.move(o),l()),a(),c}i(Kl,"definition");function ql(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}i(ql,"checkEmphasis");function Ee(t){return"&#x"+t.toString(16).toUpperCase()+";"}i(Ee,"encodeCharacterReference");function qt(t,e,n){let r=Ut(t),o=Ut(e);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}i(qt,"encodeInfo");Ho.peek=rh;function Ho(t,e,n,r){let o=ql(n),s=n.enter("emphasis"),a=n.createTracker(r),l=a.move(o),u=a.move(n.containerPhrasing(t,{after:o,before:l,...a.current()})),c=u.charCodeAt(0),f=qt(r.before.charCodeAt(r.before.length-1),c,o);f.inside&&(u=Ee(c)+u.slice(1));let d=u.charCodeAt(u.length-1),p=qt(r.after.charCodeAt(0),d,o);p.inside&&(u=u.slice(0,-1)+Ee(d));let h=a.move(o);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:f.outside},l+u+h}i(Ho,"emphasis");function rh(t,e,n){return n.options.emphasis||"*"}i(rh,"emphasisPeek");var Gt=i((function(t){if(t==null)return ah;if(typeof t=="function")return vr(t);if(typeof t=="object")return Array.isArray(t)?ih(t):oh(t);if(typeof t=="string")return sh(t);throw new Error("Expected function, string, or object as test")}),"convert");function ih(t){let e=[],n=-1;for(;++n<t.length;)e[n]=Gt(t[n]);return vr(r);function r(...o){let s=-1;for(;++s<e.length;)if(e[s].apply(this,o))return!0;return!1}}i(ih,"anyFactory");function oh(t){let e=t;return vr(n);function n(r){let o=r,s;for(s in t)if(o[s]!==e[s])return!1;return!0}}i(oh,"propertiesFactory");function sh(t){return vr(e);function e(n){return n&&n.type===t}}i(sh,"typeFactory");function vr(t){return e;function e(n,r,o){return!!(lh(n)&&t.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}i(vr,"castFactory");function ah(){return!0}i(ah,"ok");function lh(t){return t!==null&&typeof t=="object"&&"type"in t}i(lh,"looksLikeANode");function Gl(t){return"\x1B[33m"+t+"\x1B[39m"}i(Gl,"color");var Yl=[],Er=!0,Ct=!1,Sr="skip";function Ko(t,e,n,r){let o;typeof e=="function"&&typeof n!="function"?(r=n,n=e):o=e;let s=Gt(o),a=r?-1:1;l(t,void 0,[])();function l(u,c,f){let d=u&&typeof u=="object"?u:{};if(typeof d.type=="string"){let h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(p,"name",{value:"node ("+Gl(u.type+(h?"<"+h+">":""))+")"})}return p;function p(){let h=Yl,b,A,y;if((!e||s(u,c,f[f.length-1]||void 0))&&(h=uh(n(u,f)),h[0]===Ct))return h;if("children"in u&&u.children){let w=u;if(w.children&&h[0]!==Sr)for(A=(r?w.children.length:-1)+a,y=f.concat(w);A>-1&&A<w.children.length;){let C=w.children[A];if(b=l(C,A,y)(),b[0]===Ct)return b;A=typeof b[1]=="number"?b[1]:A+a}}return h}}i(l,"factory")}i(Ko,"visitParents");function uh(t){return Array.isArray(t)?t:typeof t=="number"?[Er,t]:t==null?Yl:[t]}i(uh,"toResult");function xn(t,e,n,r){let o,s,a;typeof e=="function"&&typeof n!="function"?(s=void 0,a=e,o=n):(s=e,a=n,o=r),Ko(t,s,l,o);function l(u,c){let f=c[c.length-1],d=f?f.children.indexOf(u):void 0;return a(u,d,f)}i(l,"overload")}i(xn,"visit");function Tr(t,e){let n=!1;return xn(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Ct}),!!((!t.depth||t.depth<3)&&bt(t)&&(e.options.setext||n))}i(Tr,"formatHeadingAsSetext");function Jl(t,e,n,r){let o=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(Tr(t,n)){let f=n.enter("headingSetext"),d=n.enter("phrasing"),p=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),f(),p+`
`+(o===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}let a="#".repeat(o),l=n.enter("headingAtx"),u=n.enter("phrasing");s.move(a+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=Ee(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),u(),l(),c}i(Jl,"heading");qo.peek=ch;function qo(t){return t.value||""}i(qo,"html");function ch(){return"<"}i(ch,"htmlPeek");Go.peek=fh;function Go(t,e,n,r){let o=Kt(n),s=o==='"'?"Quote":"Apostrophe",a=n.enter("image"),l=n.enter("label"),u=n.createTracker(r),c=u.move("![");return c+=u.move(n.safe(t.alt,{before:c,after:"]",...u.current()})),c+=u.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(t.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(l=n.enter("destinationRaw"),c+=u.move(n.safe(t.url,{before:c,after:t.title?" ":")",...u.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=u.move(" "+o),c+=u.move(n.safe(t.title,{before:c,after:o,...u.current()})),c+=u.move(o),l()),c+=u.move(")"),a(),c}i(Go,"image");function fh(){return"!"}i(fh,"imagePeek");Yo.peek=dh;function Yo(t,e,n,r){let o=t.referenceType,s=n.enter("imageReference"),a=n.enter("label"),l=n.createTracker(r),u=l.move("!["),c=n.safe(t.alt,{before:u,after:"]",...l.current()});u+=l.move(c+"]["),a();let f=n.stack;n.stack=[],a=n.enter("reference");let d=n.safe(n.associationId(t),{before:u,after:"]",...l.current()});return a(),n.stack=f,s(),o==="full"||!c||c!==d?u+=l.move(d+"]"):o==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}i(Yo,"imageReference");function dh(){return"!"}i(dh,"imageReferencePeek");Jo.peek=ph;function Jo(t,e,n){let r=t.value||"",o="`",s=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){let a=n.unsafe[s],l=n.compilePattern(a),u;if(a.atBreak)for(;u=l.exec(r);){let c=u.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(u.index+1)}}return o+r+o}i(Jo,"inlineCode");function ph(){return"`"}i(ph,"inlineCodePeek");function Qo(t,e){let n=bt(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}i(Qo,"formatLinkAsAutolink");Xo.peek=hh;function Xo(t,e,n,r){let o=Kt(n),s=o==='"'?"Quote":"Apostrophe",a=n.createTracker(r),l,u;if(Qo(t,n)){let f=n.stack;n.stack=[],l=n.enter("autolink");let d=a.move("<");return d+=a.move(n.containerPhrasing(t,{before:d,after:">",...a.current()})),d+=a.move(">"),l(),n.stack=f,d}l=n.enter("link"),u=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(t,{before:c,after:"](",...a.current()})),c+=a.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(t.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(u=n.enter("destinationRaw"),c+=a.move(n.safe(t.url,{before:c,after:t.title?" ":")",...a.current()}))),u(),t.title&&(u=n.enter(`title${s}`),c+=a.move(" "+o),c+=a.move(n.safe(t.title,{before:c,after:o,...a.current()})),c+=a.move(o),u()),c+=a.move(")"),l(),c}i(Xo,"link");function hh(t,e,n){return Qo(t,n)?"<":"["}i(hh,"linkPeek");Zo.peek=mh;function Zo(t,e,n,r){let o=t.referenceType,s=n.enter("linkReference"),a=n.enter("label"),l=n.createTracker(r),u=l.move("["),c=n.containerPhrasing(t,{before:u,after:"]",...l.current()});u+=l.move(c+"]["),a();let f=n.stack;n.stack=[],a=n.enter("reference");let d=n.safe(n.associationId(t),{before:u,after:"]",...l.current()});return a(),n.stack=f,s(),o==="full"||!c||c!==d?u+=l.move(d+"]"):o==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}i(Zo,"linkReference");function mh(){return"["}i(mh,"linkReferencePeek");function Yt(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}i(Yt,"checkBullet");function Ql(t){let e=Yt(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}i(Ql,"checkBulletOther");function Xl(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}i(Xl,"checkBulletOrdered");function Fr(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}i(Fr,"checkRule");function Zl(t,e,n,r){let o=n.enter("list"),s=n.bulletCurrent,a=t.ordered?Xl(n):Yt(n),l=t.ordered?a==="."?")":".":Ql(n),u=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){let f=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),Fr(n)===a&&f){let d=-1;for(;++d<t.children.length;){let p=t.children[d];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=l),n.bulletCurrent=a;let c=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=s,o(),c}i(Zl,"list");function eu(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}i(eu,"checkListItemIndent");function tu(t,e,n,r){let o=eu(n),s=n.bulletCurrent||Yt(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let a=s.length+1;(o==="tab"||o==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);let l=n.createTracker(r);l.move(s+" ".repeat(a-s.length)),l.shift(a);let u=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,l.current()),f);return u(),c;function f(d,p,h){return p?(h?"":" ".repeat(a))+d:(h?s:s+" ".repeat(a-s.length))+d}i(f,"map")}i(tu,"listItem");function nu(t,e,n,r){let o=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(t,r);return s(),o(),a}i(nu,"paragraph");var es=Gt(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function ru(t,e,n,r){return(t.children.some(function(a){return es(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}i(ru,"root");function iu(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}i(iu,"checkStrong");ts.peek=gh;function ts(t,e,n,r){let o=iu(n),s=n.enter("strong"),a=n.createTracker(r),l=a.move(o+o),u=a.move(n.containerPhrasing(t,{after:o,before:l,...a.current()})),c=u.charCodeAt(0),f=qt(r.before.charCodeAt(r.before.length-1),c,o);f.inside&&(u=Ee(c)+u.slice(1));let d=u.charCodeAt(u.length-1),p=qt(r.after.charCodeAt(0),d,o);p.inside&&(u=u.slice(0,-1)+Ee(d));let h=a.move(o+o);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:f.outside},l+u+h}i(ts,"strong");function gh(t,e,n){return n.options.strong||"*"}i(gh,"strongPeek");function ou(t,e,n,r){return n.safe(t.value,r)}i(ou,"text");function su(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}i(su,"checkRuleRepetition");function au(t,e,n){let r=(Fr(n)+(n.options.ruleSpaces?" ":"")).repeat(su(n));return n.options.ruleSpaces?r.slice(0,-1):r}i(au,"thematicBreak");var lu={blockquote:$l,break:jo,code:Hl,definition:Kl,emphasis:Ho,hardBreak:jo,heading:Jl,html:qo,image:Go,imageReference:Yo,inlineCode:Jo,link:Xo,linkReference:Zo,list:Zl,listItem:tu,paragraph:nu,root:ru,strong:ts,text:ou,thematicBreak:au};var uu=[bh];function bh(t,e,n,r){if(e.type==="code"&&yn(e,r)&&(t.type==="list"||t.type===e.type&&yn(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&Tr(e,r))?void 0:n.spread?1:0}i(bh,"joinDefaults");var kt=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],cu=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:kt},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:kt},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:kt},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:kt},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:kt},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:kt},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:kt},{atBreak:!0,character:"~"}];function fu(t){return t.label||!t.identifier?t.label||"":kr(t.identifier)}i(fu,"association");function du(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}i(du,"compilePattern");function pu(t,e,n){let r=e.indexStack,o=t.children||[],s=[],a=-1,l=n.before,u;r.push(-1);let c=e.createTracker(n);for(;++a<o.length;){let f=o[a],d;if(r[r.length-1]=a,a+1<o.length){let b=e.handle.handlers[o[a+1].type];b&&b.peek&&(b=b.peek),d=b?b(o[a+1],t,e,{before:"",after:"",...c.current()}).charAt(0):""}else d=n.after;s.length>0&&(l==="\r"||l===`
`)&&f.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),l=" ",c=e.createTracker(n),c.move(s.join("")));let p=e.handle(f,t,e,{...c.current(),after:d,before:l});u&&u===p.slice(0,1)&&(p=Ee(u.charCodeAt(0))+p.slice(1));let h=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,u=void 0,h&&(s.length>0&&h.before&&l===s[s.length-1].slice(-1)&&(s[s.length-1]=s[s.length-1].slice(0,-1)+Ee(l.charCodeAt(0))),h.after&&(u=d)),c.move(p),s.push(p),l=p.slice(-1)}return r.pop(),s.join("")}i(pu,"containerPhrasing");function hu(t,e,n){let r=e.indexStack,o=t.children||[],s=e.createTracker(n),a=[],l=-1;for(r.push(-1);++l<o.length;){let u=o[l];r[r.length-1]=l,a.push(s.move(e.handle(u,t,e,{before:`
`,after:`
`,...s.current()}))),u.type!=="list"&&(e.bulletLastUsed=void 0),l<o.length-1&&a.push(s.move(wh(u,o[l+1],t,e)))}return r.pop(),a.join("")}i(hu,"containerFlow");function wh(t,e,n,r){let o=r.join.length;for(;o--;){let s=r.join[o](t,e,n,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}i(wh,"between");var yh=/\r?\n|\r/g;function mu(t,e){let n=[],r=0,o=0,s;for(;s=yh.exec(t);)a(t.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,o++;return a(t.slice(r)),n.join("");function a(l){n.push(e(l,o,!l))}i(a,"one")}i(mu,"indentLines");function bu(t,e,n){let r=(n.before||"")+(e||"")+(n.after||""),o=[],s=[],a={},l=-1;for(;++l<t.unsafe.length;){let f=t.unsafe[l];if(!Ar(t.stack,f))continue;let d=t.compilePattern(f),p;for(;p=d.exec(r);){let h="before"in f||!!f.atBreak,b="after"in f,A=p.index+(h?p[1].length:0);o.includes(A)?(a[A].before&&!h&&(a[A].before=!1),a[A].after&&!b&&(a[A].after=!1)):(o.push(A),a[A]={before:h,after:b})}}o.sort(xh);let u=n.before?n.before.length:0,c=r.length-(n.after?n.after.length:0);for(l=-1;++l<o.length;){let f=o[l];f<u||f>=c||f+1<c&&o[l+1]===f+1&&a[f].after&&!a[f+1].before&&!a[f+1].after||o[l-1]===f-1&&a[f].before&&!a[f-1].before&&!a[f-1].after||(u!==f&&s.push(gu(r.slice(u,f),"\\")),u=f,/[!-/:-@[-`{-~]/.test(r.charAt(f))&&(!n.encode||!n.encode.includes(r.charAt(f)))?s.push("\\"):(s.push(Ee(r.charCodeAt(f))),u++))}return s.push(gu(r.slice(u,c),n.after)),s.join("")}i(bu,"safe");function xh(t,e){return t-e}i(xh,"numerical");function gu(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,r=[],o=[],s=t+e,a=-1,l=0,u;for(;u=n.exec(s);)r.push(u.index);for(;++a<r.length;)l!==r[a]&&o.push(t.slice(l,r[a])),o.push("\\"),l=r[a];return o.push(t.slice(l)),o.join("")}i(gu,"escapeBackslashes");function wu(t){let e=t||{},n=e.now||{},r=e.lineShift||0,o=n.line||1,s=n.column||1;return{move:u,current:a,shift:l};function a(){return{now:{line:o,column:s},lineShift:r}}function l(c){r+=c}function u(c){let f=c||"",d=f.split(/\r?\n|\r/g),p=d[d.length-1];return o+=d.length-1,s=d.length===1?s+p.length:1+p.length+r,f}}i(wu,"track");function ns(t,e){let n=e||{},r={associationId:fu,containerPhrasing:vh,containerFlow:Eh,createTracker:wu,compilePattern:du,enter:s,handlers:{...lu},handle:void 0,indentLines:mu,indexStack:[],join:[...uu],options:{},safe:Sh,stack:[],unsafe:[...cu]};Uo(r,n),r.options.tightDefinitions&&r.join.push(Ah),r.handle=Vl("type",{invalid:Ch,unknown:kh,handlers:r.handlers});let o=r.handle(t,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return o&&o.charCodeAt(o.length-1)!==10&&o.charCodeAt(o.length-1)!==13&&(o+=`
`),o;function s(a){return r.stack.push(a),l;function l(){r.stack.pop()}i(l,"exit")}i(s,"enter")}i(ns,"toMarkdown");function Ch(t){throw new Error("Cannot handle value `"+t+"`, expected node")}i(Ch,"invalid");function kh(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}i(kh,"unknown");function Ah(t,e){if(t.type==="definition"&&t.type===e.type)return 0}i(Ah,"joinDefinition");function vh(t,e){return pu(t,this,e)}i(vh,"containerPhrasingBound");function Eh(t,e){return hu(t,this,e)}i(Eh,"containerFlowBound");function Sh(t,e){return bu(this,t,e)}i(Sh,"safeBound");function Ir(t){let e=this;e.compiler=n;function n(r){return ns(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}i(n,"compiler")}i(Ir,"remarkStringify");function rs(t){if(t)throw t}i(rs,"bail");var Rr=Tt(Tu(),1);function Cn(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}i(Cn,"isPlainObject");function is(){let t=[],e={run:n,use:r};return e;function n(...o){let s=-1,a=o.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...o);function l(u,...c){let f=t[++s],d=-1;if(u){a(u);return}for(;++d<o.length;)(c[d]===null||c[d]===void 0)&&(c[d]=o[d]);o=c,f?Fu(f,l)(...c):a(null,...c)}i(l,"next")}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return t.push(o),e}}i(is,"trough");function Fu(t,e){let n;return r;function r(...a){let l=t.length>a.length,u;l&&a.push(o);try{u=t.apply(this,a)}catch(c){let f=c;if(l&&n)throw f;return o(f)}l||(u&&u.then&&typeof u.then=="function"?u.then(s,o):u instanceof Error?o(u):s(u))}function o(a,...l){n||(n=!0,e(a,...l))}function s(a){o(null,a)}}i(Fu,"wrap");var X=class extends Error{static{i(this,"VFileMessage")}constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?o=e:!s.cause&&e&&(a=!0,o=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){let u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){let u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}let l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=l?l.line:void 0,this.name=it(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}};X.prototype.file="";X.prototype.name="";X.prototype.reason="";X.prototype.message="";X.prototype.stack="";X.prototype.column=void 0;X.prototype.line=void 0;X.prototype.ancestors=void 0;X.prototype.cause=void 0;X.prototype.fatal=void 0;X.prototype.place=void 0;X.prototype.ruleId=void 0;X.prototype.source=void 0;var Fe=Tt(require("node:path"),1);var os=Tt(require("node:process"),1);var ss=require("node:url");function Lr(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}i(Lr,"isUrl");var as=["history","path","basename","stem","extname","dirname"],kn=class{static{i(this,"VFile")}constructor(e){let n;e?Lr(e)?n={path:e}:typeof e=="string"||Th(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":os.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<as.length;){let s=as[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let o;for(o in n)as.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?Fe.default.basename(this.path):void 0}set basename(e){us(e,"basename"),ls(e,"basename"),this.path=Fe.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Fe.default.dirname(this.path):void 0}set dirname(e){Iu(this.basename,"dirname"),this.path=Fe.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Fe.default.extname(this.path):void 0}set extname(e){if(ls(e,"extname"),Iu(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Fe.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Lr(e)&&(e=(0,ss.fileURLToPath)(e)),us(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Fe.default.basename(this.path,this.extname):void 0}set stem(e){us(e,"stem"),ls(e,"stem"),this.path=Fe.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){let o=this.message(e,n,r);throw o.fatal=!0,o}info(e,n,r){let o=this.message(e,n,r);return o.fatal=void 0,o}message(e,n,r){let o=new X(e,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function ls(t,e){if(t&&t.includes(Fe.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Fe.default.sep+"`")}i(ls,"assertPart");function us(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}i(us,"assertNonEmpty");function Iu(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}i(Iu,"assertPath");function Th(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}i(Th,"isUint8Array");var Pu=i((function(t){let r=this.constructor.prototype,o=r[t],s=i(function(){return o.apply(s,arguments)},"apply");return Object.setPrototypeOf(s,r),s}),"CallableInstance");var Fh={}.hasOwnProperty,ps=class t extends Pu{static{i(this,"Processor")}constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=is()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let r=this.attachers[n];e.use(...r)}return e.data((0,Rr.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(ds("data",this.frozen),this.namespace[e]=n,this):Fh.call(this.namespace,e)&&this.namespace[e]||void 0:e?(ds("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);let o=n.call(e,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=Or(e),r=this.parser||this.Parser;return cs("parse",r),r(String(n),n)}process(e,n){let r=this;return this.freeze(),cs("process",this.parser||this.Parser),fs("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(s,a){let l=Or(e),u=r.parse(l);r.run(u,l,function(f,d,p){if(f||!d||!p)return c(f);let h=d,b=r.stringify(h,p);Ph(b)?p.value=b:p.result=b,c(f,p)});function c(f,d){f||!d?a(f):s?s(d):n(void 0,d)}i(c,"realDone")}i(o,"executor")}processSync(e){let n=!1,r;return this.freeze(),cs("processSync",this.parser||this.Parser),fs("processSync",this.compiler||this.Compiler),this.process(e,o),Ou("processSync","process",n),r;function o(s,a){n=!0,rs(s),r=a}i(o,"realDone")}run(e,n,r){Lu(e),this.freeze();let o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,l){let u=Or(n);o.run(e,u,c);function c(f,d,p){let h=d||e;f?l(f):a?a(h):r(void 0,h,p)}i(c,"realDone")}i(s,"executor")}runSync(e,n){let r=!1,o;return this.run(e,n,s),Ou("runSync","run",r),o;function s(a,l){rs(a),o=l,r=!0}i(s,"realDone")}stringify(e,n){this.freeze();let r=Or(n),o=this.compiler||this.Compiler;return fs("stringify",o),Lu(e),o(e,r)}use(e,...n){let r=this.attachers,o=this.namespace;if(ds("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){let[f,...d]=c;u(f,d)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(c.plugins),c.settings&&(o.settings=(0,Rr.default)(!0,o.settings,c.settings))}function l(c){let f=-1;if(c!=null)if(Array.isArray(c))for(;++f<c.length;){let d=c[f];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,f){let d=-1,p=-1;for(;++d<r.length;)if(r[d][0]===c){p=d;break}if(p===-1)r.push([c,...f]);else if(f.length>0){let[h,...b]=f,A=r[p][1];Cn(A)&&Cn(h)&&(h=(0,Rr.default)(!0,A,h)),r[p]=[c,h,...b]}}}},hs=new ps().freeze();function cs(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}i(cs,"assertParser");function fs(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}i(fs,"assertCompiler");function ds(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}i(ds,"assertUnfrozen");function Lu(t){if(!Cn(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}i(Lu,"assertNode");function Ou(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}i(Ou,"assertDone");function Or(t){return Ih(t)?t:new kn(t)}i(Or,"vfile");function Ih(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}i(Ih,"looksLikeAVFile");function Ph(t){return typeof t=="string"||Lh(t)}i(Ph,"looksLikeAValue");function Lh(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}i(Lh,"isUint8Array");var Ru=hs().use(Ht).use(Ir).freeze();var gs={d:i((t,e)=>{for(var n in e)gs.o(e,n)&&!gs.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},"d"),o:i((t,e)=>Object.prototype.hasOwnProperty.call(t,e),"o")},bs={};gs.d(bs,{Z:i(()=>Nh,"Z"),$:i(()=>_u,"$")});var Jt={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function Du(t){return t<Jt.nul||t===Jt.space}i(Du,"n");function ms(t){return t<Jt.horizontalTab}i(ms,"i");var Oh={553:t=>{t.exports=function(e){var n,r;return e._compiled||(n=e.before?"(?:"+e.before+")":"",r=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(r||""),"g")),e._compiled}},112:t=>{function e(n,r,o){var s;if(!r)return o;for(typeof r=="string"&&(r=[r]),s=-1;++s<r.length;)if(n.indexOf(r[s])!==-1)return!0;return!1}i(e,"t"),t.exports=function(n,r){return e(n,r.inConstruct,!0)&&!e(n,r.notInConstruct)}},113:(t,e,n)=>{t.exports=function(l,u,c){for(var f,d,p,h,b,A,y,w,C=(c.before||"")+(u||"")+(c.after||""),v=[],S=[],P={},x=-1;++x<l.unsafe.length;)if(h=l.unsafe[x],o(l.stack,h))for(b=r(h);A=b.exec(C);)f="before"in h||h.atBreak,d="after"in h,p=A.index+(f?A[1].length:0),v.indexOf(p)===-1?(v.push(p),P[p]={before:f,after:d}):(P[p].before&&!f&&(P[p].before=!1),P[p].after&&!d&&(P[p].after=!1));for(v.sort(s),y=c.before?c.before.length:0,w=C.length-(c.after?c.after.length:0),x=-1;++x<v.length;)(p=v[x])<y||p>=w||p+1<w&&v[x+1]===p+1&&P[p].after&&!P[p+1].before&&!P[p+1].after||(y!==p&&S.push(a(C.slice(y,p),"\\")),y=p,!/[!-/:-@[-`{-~]/.test(C.charAt(p))||c.encode&&c.encode.indexOf(C.charAt(p))!==-1?(S.push("&#x"+C.charCodeAt(p).toString(16).toUpperCase()+";"),y++):S.push("\\"));return S.push(a(C.slice(y,w),c.after)),S.join("")};var r=n(553),o=n(112);function s(l,u){return l-u}i(s,"a");function a(l,u){for(var c,f=/\\(?=[!-/:-@[-`{-~])/g,d=[],p=[],h=-1,b=0,A=l+u;c=f.exec(A);)d.push(c.index);for(;++h<d.length;)b!==d[h]&&p.push(l.slice(b,d[h])),p.push("\\"),b=d[h];return p.push(l.slice(b)),p.join("")}i(a,"o")}},Nu={};function We(t){var e=Nu[t];if(e!==void 0)return e.exports;var n=Nu[t]={exports:{}};return Oh[t](n,n.exports,We),n.exports}i(We,"s");We.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return We.d(e,{a:e}),e},We.d=(t,e)=>{for(var n in e)We.o(e,n)&&!We.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},We.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ws={};(()=>{function t(o={}){let s=o.permalinks||[],a=o.pageResolver||(p=>[p.replace(/ /g,"_").toLowerCase()]),l=o.newClassName||"new",u=o.wikiLinkClassName||"internal",c=o.hrefTemplate||(p=>`#/page/${p}`),f;function d(p){return p[p.length-1]}return i(d,"s"),{enter:{wikiLink:i(function(p){f={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(f,p)},"wikiLink")},exit:{wikiLinkTarget:i(function(p){let h=this.sliceSerialize(p);d(this.stack).value=h},"wikiLinkTarget"),wikiLinkAlias:i(function(p){let h=this.sliceSerialize(p);d(this.stack).data.alias=h},"wikiLinkAlias"),wikiLink:i(function(p){this.exit(p);let h=f,b=a(h.value),A=b.find((S=>s.indexOf(S)!==-1)),y=A!==void 0,w;w=y?A:b[0]||"";let C=h.value;h.data.alias&&(C=h.data.alias);let v=u;y||(v+=" "+l),h.data.alias=C,h.data.permalink=w,h.data.exists=y,h.data.hName="a",h.data.hProperties={className:v,href:c(w)},h.data.hChildren=[{type:"text",value:C}]},"wikiLink")}}}i(t,"e"),We.d(ws,{V:i(()=>t,"V"),x:i(()=>r,"x")});var e=We(113),n=We.n(e);function r(o={}){let s=o.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:i(function(a,l,u){let c=u.enter("wikiLink"),f=n()(u,a.value,{before:"[",after:"]"}),d=n()(u,a.data.alias,{before:"[",after:"]"}),p;return p=d!==f?`[[${f}${s}${d}]]`:`[[${f}]]`,c(),p},"wikiLink")}}}i(r,"n")})();var Rh=ws.V,Dh=ws.x,Mu=!1;function _u(t={}){let e=this.data();function n(r,o){e[r]?e[r].push(o):e[r]=[o]}i(n,"a"),!Mu&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(Mu=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",(function(){var r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",o="]]";return{text:{91:{tokenize:i(function(s,a,l){var u,c,f=0,d=0,p=0;return function(C){return C!=="[[".charCodeAt(d)?l(C):(s.enter("wikiLink"),s.enter("wikiLinkMarker"),h(C))};function h(C){return d===2?(s.exit("wikiLinkMarker"),(function(v){return ms(v)||v===Jt.eof?l(v):(s.enter("wikiLinkData"),s.enter("wikiLinkTarget"),b(v))})(C)):C!=="[[".charCodeAt(d)?l(C):(s.consume(C),d++,h)}function b(C){return C===r.charCodeAt(f)?u?(s.exit("wikiLinkTarget"),s.enter("wikiLinkAliasMarker"),A(C)):l(C):C===o.charCodeAt(p)?u?(s.exit("wikiLinkTarget"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),w(C)):l(C):ms(C)||C===Jt.eof?l(C):(Du(C)||(u=!0),s.consume(C),b)}function A(C){return f===r.length?(s.exit("wikiLinkAliasMarker"),s.enter("wikiLinkAlias"),y(C)):C!==r.charCodeAt(f)?l(C):(s.consume(C),f++,A)}function y(C){return C===o.charCodeAt(p)?c?(s.exit("wikiLinkAlias"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),w(C)):l(C):ms(C)||C===Jt.eof?l(C):(Du(C)||(c=!0),s.consume(C),y)}function w(C){return p===2?(s.exit("wikiLinkMarker"),s.exit("wikiLink"),a(C)):C!==o.charCodeAt(p)?l(C):(s.consume(C),p++,w)}},"tokenize")}}}})(t)),n("fromMarkdownExtensions",Rh(t)),n("toMarkdownExtensions",Dh(t))}i(_u,"k");var Nh=_u,eE=bs.Z,Bu=bs.$;i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Mh=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function ys(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return Mh.test(t)}i(ys,"isUrl");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ye(t){if(!Ae(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}i(ye,"isFrontmatterLinkCacheWithOffsets");function Dr(t){return ye(t)?t:{...t,endOffset:t.original.length,startOffset:0}}i(Dr,"toFrontmatterLinkCacheWithOffsets");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Vu(t){return Ae(t)&&!!t.isCanvas}i(Vu,"isCanvasReference");function Nr(t,e){return ye(t)?{newContent:e,oldContent:t.original.slice(t.startOffset,t.endOffset),reference:t}:{newContent:e,oldContent:t.original,reference:t}}i(Nr,"referenceToFileChange");function zu(t){return t.sort((e,n)=>{if(Ae(e)&&Ae(n)){let r=ye(e)?e.startOffset:0,o=ye(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(ye(n))-Number(ye(e))||r-o}return qe(e)&&qe(n)?e.position.start.offset-n.position.start.offset:Ae(e)?1:-1})}i(zu,"sortReferences");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Br(t,e,n,r,o=!0){t.throwIfAborted();let s=await It(r,t,e);if(t.throwIfAborted(),s===null)return null;let{frontmatter:a,hasFrontmatterError:l}=jh(e,n);if(!qh(s,e,a,n))return o?null:e;s=Kh(s);let{frontmatterChanged:u,newContent:c}=$h(s,e,l,n);return await Wh(t,a,u,n),t.throwIfAborted(),Uh(c,a,u)}i(Br,"applyContentChanges");async function $u(t,e,n,r={},o=!0){await $t(t,e,async(s,a)=>jn(t,e)?await zh(s,a,me(t,e),n,o):await Br(s,a,me(t,e),n,o),r)}i($u,"applyFileChanges");function An(t){return Vu(t.reference)}i(An,"isCanvasChange");function _h(t){return An(t)&&t.reference.type==="file"}i(_h,"isCanvasFileNodeChange");function Bh(t){return An(t)&&t.reference.type==="text"}i(Bh,"isCanvasTextNodeChange");function At(t){return qe(t.reference)}i(At,"isContentChange");function Mr(t){return Ae(t.reference)}i(Mr,"isFrontmatterChange");function _r(t){return ye(t.reference)}i(_r,"isFrontmatterChangeWithOffsets");function Vh(t){return _r(t)?t:{...t,reference:Dr(t.reference)}}i(Vh,"toFrontmatterChangeWithOffsets");async function zh(t,e,n,r,o=!0){let s=await It(r,t,e);if(t.throwIfAborted(),s===null)return null;let a=Hh(e),l=new Map;for(let u of s){if(!An(u)){console.error("Only canvas changes are supported for canvas files",{change:u,path:n});continue}let c=a.nodes[u.reference.nodeIndex];if(!c)return console.error("Node not found",{nodeIndex:u.reference.nodeIndex,path:n}),null;if(_h(u)){if(c.file!==u.oldContent)return we("FileChange:applyCanvasChanges")("Content mismatch",{actualContent:c.file,expectedContent:u.oldContent,nodeIndex:u.reference.nodeIndex,path:n,type:"file"}),null;c.file=u.newContent}else if(Bh(u)){let f=l.get(u.reference.nodeIndex);f||(f=[],l.set(u.reference.nodeIndex,f)),f.push(u)}}for(let[u,c]of l.entries()){let f=a.nodes[u];if(!f)return console.error("Node not found",{nodeIndex:u,path:n}),null;if(typeof f.text!="string")return console.error("Node text is not a string",{nodeIndex:u,path:n}),null;let d=c.map(p=>Nr(p.reference.originalReference,p.newContent));f.text=await Br(t,f.text,`${n}.node${String(u)}.VIRTUAL_FILE.md`,d,o)}return JSON.stringify(a,null,"	")}i(zh,"applyCanvasChanges");function $h(t,e,n,r){let o="",s=0,a={newContent:"",oldContent:"",reference:{link:"",original:"",position:{end:{col:0,line:0,offset:0},start:{col:0,line:0,offset:0}}}},l=new Map;for(let u of t)if(At(u))if(s<=u.reference.position.start.offset)o+=e.slice(s,u.reference.position.start.offset),o+=u.newContent,s=u.reference.position.end.offset,a=u;else{let c=u.reference.position.start.offset-a.reference.position.start.offset,f=u.reference.position.end.offset-a.reference.position.start.offset;if(a.newContent.slice(c,f)!==u.oldContent){let p="Overlapping changes";throw console.error(p,{change:u,lastContentChange:a}),new Error(p)}o=o.slice(0,o.length-a.newContent.length)+a.newContent.slice(0,c)+u.newContent+a.newContent.slice(f)}else if(Mr(u))if(n)console.error(`Cannot apply frontmatter change in ${r}, because frontmatter parsing failed`,{change:u});else{let c=l.get(u.reference.key);c||(c=[],l.set(u.reference.key,c)),c.push(Vh(u))}return o+=e.slice(s),{frontmatterChanged:l,newContent:o}}i($h,"applyContentChangesToText");async function Wh(t,e,n,r){for(let[o,s]of n.entries()){let a=Lt(e,o);if(typeof a!="string")return;let l=s.map(c=>({newContent:c.newContent,oldContent:c.oldContent,reference:{link:"",original:"",position:{end:{col:c.reference.endOffset,line:0,offset:c.reference.endOffset},start:{col:c.reference.startOffset,line:0,offset:c.reference.startOffset}}}})),u=await Br(t,a,`${r}.frontmatter.${o}.VIRTUAL_FILE.md`,l);if(u===null)return;Qs(e,o,u)}}i(Wh,"applyFrontmatterChangesWithOffsets");function Uh(t,e,n){return n.size>0?Hn(t,e):t}i(Uh,"buildFinalContent");function jh(t,e){let n={},r=!1;try{n=mt(t)}catch(o){nn(new Error(`Frontmatter parsing failed in ${e}`,{cause:o})),r=!0}return{frontmatter:n,hasFrontmatterError:r}}i(jh,"parseFrontmatterSafely");function Hh(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}i(Hh,"parseJsonSafe");function Kh(t){return t.sort((e,n)=>At(e)&&At(n)?e.reference.position.start.offset-n.reference.position.start.offset:_r(e)&&_r(n)?e.reference.key.localeCompare(n.reference.key)||e.reference.startOffset-n.reference.startOffset:Mr(e)&&Mr(n)?e.reference.key.localeCompare(n.reference.key):At(e)?-1:1),t.filter((e,n)=>e.oldContent===e.newContent?!1:n===0?!0:!pe(e,t[n-1]))}i(Kh,"sortAndFilterChanges");function qh(t,e,n,r){let o=we("FileChange:validateChanges");for(let s of t)if(At(s)){let a=s.reference.position.start.offset,l=s.reference.position.end.offset,u=e.slice(a,l);if(u!==s.oldContent)return o("Content mismatch",{actualContent:u,endOffset:l,expectedContent:s.oldContent,path:r,startOffset:a}),!1}else if(_r(s)){let a=Lt(n,s.reference.key);if(typeof a!="string")return o("Property value is not a string",{frontmatterKey:s.reference.key,path:r,propertyValue:a}),!1;let l=a.slice(s.reference.startOffset,s.reference.endOffset);if(l!==s.oldContent)return o("Content mismatch",{actualContent:l,expectedContent:s.oldContent,frontmatterKey:s.reference.key,path:r,startOffset:s.reference.startOffset}),!1}else if(Mr(s)){let a=Lt(n,s.reference.key);if(a!==s.oldContent)return o("Content mismatch",{actualContent:a,expectedContent:s.oldContent,frontmatterKey:s.reference.key,path:r}),!1}return!0}i(qh,"validateChanges");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Wu(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}i(Wu,"ensureMetadataCacheReady");function Uu(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),zu(e),e=e.filter((n,r)=>{if(r===0)return!0;let o=e[r-1];if(!o)return!0;if(qe(n)&&qe(o))return n.position.start.offset!==o.position.start.offset;if(Ae(n)&&Ae(o)){let s=ye(n)?n.startOffset:0,a=ye(o)?o.startOffset:0;return n.key!==o.key||ye(n)!==ye(o)||s!==a}return!0}),e}i(Uu,"getAllLinks");function Gh(t,e){let n=he(t,e,!0);return Cs(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}i(Gh,"getBacklinksForFileOrPath");async function xs(t,e,n={}){let r=t.metadataCache.getBacklinksForFile.safe;if(r)return r(e);let o=new Xs;return await ur({async operationFn(s){s.throwIfAborted();let a=he(t,e);await Wu(t),s.throwIfAborted(),o=Gh(t,a);for(let l of o.keys()){s.throwIfAborted();let u=tt(t,l);if(!u)return!1;await cr(t,u),s.throwIfAborted();let c=await Ao(t,u);if(s.throwIfAborted(),!c)return!1;let f=mt(c),d=o.get(l);if(!d)return!1;for(let p of d){let h;if(qe(p))h=c.slice(p.position.start.offset,p.position.end.offset);else if(Ae(p)){let b=Lt(f,p.key);if(typeof b!="string")return!1;let A=Dr(p);h=b.slice(A.startOffset,A.endOffset)}else return!0;if(h!==p.original)return!1}}return!0},operationName:ie(s=>s.obsidianDevUtils.metadataCache.getBacklinksForFilePath,{filePath:me(t,e)}),retryOptions:n,shouldShowTimeoutNotice:n.shouldShowTimeoutNotice??!0}),o}i(xs,"getBacklinksForFileSafe");async function Vr(t,e){let n=tt(t,e);try{if(!n)return null;if(n.deleted)return t.metadataCache.getFileCache(n);await cr(t,n);let r=t.metadataCache.fileCache[n.path];return r?.mtime===n.stat.mtime&&r.size===n.stat.size&&t.metadataCache.metadataCache[r.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await Wu(t)),t.metadataCache.getFileCache(n)}catch(r){if(!n||n.deleted)return null;throw r}}i(Vr,"getCacheSafe");function Yh(t,e){let n=ju(t);for(let r of e)for(;r.deleted;){let o=n.get(r.path)??0;o++,n.set(r.path,o),t.vault.fileMap[r.path]=r,Ge(r)&&t.metadataCache.uniqueFileLookup.add(r.name.toLowerCase(),r),r=Un(t,pt(r.path),!0)}}i(Yh,"registerFiles");function Cs(t,e,n){try{return Yh(t,e),n()}finally{Jh(t,e)}}i(Cs,"tempRegisterFilesAndRun");function Jh(t,e){let n=ju(t);for(let r of e)for(;r.deleted;){let o=n.get(r.path)??1;o--,n.set(r.path,o),o===0&&(n.delete(r.path),delete t.vault.fileMap[r.path],Ge(r)&&t.metadataCache.uniqueFileLookup.remove(r.name.toLowerCase(),r)),r=Un(t,pt(r.path),!0)}}i(Jh,"unregisterFiles");function ju(t){return Re(t,"registeredFilesCounts",new Map).value}i(ju,"getRegisteredFilesCounts");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Hu(t){return t.vault.getConfig("newLinkFormat")}i(Hu,"getNewLinkFormat");function ks(t){return!t.vault.getConfig("useMarkdownLinks")}i(ks,"shouldUseWikilinks");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qh="\\|",Xh=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,Zh=/[\\[\]<>_*~=`$]/g,qu=/(?<!\\)\|/g,Gu="|";async function Yu(t,e,n,r={}){await $u(t,e,async(o,s)=>{let a=await Vr(t,e);o.throwIfAborted();let l=he(t,e),u=await t.vault.cachedRead(l);return o.throwIfAborted(),s!==u?null:await mm(a,jn(t,e),n,o)},r)}i(Yu,"editLinks");function vs(t){return Se(t,Xh,({substring:e})=>encodeURIComponent(e))}i(vs,"encodeUrl");function em(t){return Se(t,Zh,"\\$&")}i(em,"escapeAlias");function Ju(t,e,n,r=!1){let{linkPath:o}=nm(e.link),s=me(t,n),a=t.metadataCache.getFirstLinkpathDest(o,s);if(a)return a;if(!r)return null;if(o.startsWith("/"))return he(t,o,!0);let l=rn(zn(s),`./${o}`);return l.startsWith("../")?null:he(t,l,!0)}i(Ju,"extractLinkFile");function Qu(t){let{app:e}=t,n={isEmptyEmbedAliasAllowed:!0},r=bm(e).map(s=>s());t=Object.assign({},n,...r,t);let o=he(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return Cs(e,[o],()=>dm(t))}i(Qu,"generateMarkdownLink");function As(t){let e=t.isEmbed?"!":"";if(t.isWikilink){let l=t.alias?`|${t.alias}`:"";return`${e}[[${t.url}${l}]]`}let n=t.alias??"",o=t.shouldEscapeAlias??!1?em(n):n,s=t.shouldUseAngleBrackets?`<${t.url}>`:vs(t.url),a=t.title?` ${JSON.stringify(t.title)}`:"";return`${e}[${o}](${s}${a})`}i(As,"generateRawMarkdownLink");function En(t){let e=tm(t);return e[0]?.raw===t?e[0]:null}i(En,"parseLink");function tm(t){let e=new Set,n="![",r="@[",o="@",a=Se(t,/\[(?<LinkAlias>!\[.*?\]\(.+?\))\]\((?<Link>.+?)\)/g,(h,b,A)=>`[${o.repeat(b.length)}](${A})`),l=Se(a,n,h=>(e.add(h.offset),r)),c=Ru().use(Ht).use(Bu,{aliasDivider:Gu}).parse(l),f=[],d=[];xn(c,h=>{let b;switch(h.type){case"link":b=xm(h,t);break;case"wikiLink":b=Cm(h,t);break;default:return}e.has(b.startOffset-1)&&(b.isEmbed=!0,b.startOffset--,b.raw=`!${b.raw}`),f.push(b)}),f.sort((h,b)=>h.startOffset-b.startOffset);let p=0;for(let h of f)Ku(t,p,h.startOffset-1,d),p=h.endOffset+1;return Ku(t,p,t.length-1,d),f.push(...d),f.sort((h,b)=>h.startOffset-b.startOffset),f}i(tm,"parseLinks");function nm(t){let e=(0,vn.parseLinktext)(Ys(t));return{linkPath:e.path,subpath:e.subpath}}i(nm,"splitSubpath");function rm(t){return En(t)?.hasAngleBrackets??!1}i(rm,"testAngleBrackets");function im(t){return En(t)?.isEmbed??!1}i(im,"testEmbed");function om(t){return En(t)?.url.startsWith("./")??!1}i(om,"testLeadingDot");function sm(t){return En(t)?.url.startsWith("/")??!1}i(sm,"testLeadingSlash");function am(t){return En(t)?.isWikilink??!1}i(am,"testWikilink");function lm(t){return Se(t,/(?<Backslashes>\\+)(?<SpecialCharacter>[!"#$%&'()*+,-./:;<=>?@[\\\]^_`{|}~])/g,(e,n,r)=>{let s=n.length,a=Math.floor(s/2);return"\\".repeat(a)+r})}i(lm,"unescapeAlias");function um(t,e,n){if(e||n)return t;try{return decodeURIComponent(t)}catch(r){return console.error(`Failed to decode URL ${t}`,r),t}}i(um,"decodeUrlSafely");function cm(t,e,n){return e<n?t.slice(e,n):void 0}i(cm,"extractAlias");function Ku(t,e,n,r){if(e>n)return;let o=t.slice(e,n+1);Se(o,/(?<Url>\S+)/g,(s,a)=>{ys(a)&&r.push({encodedUrl:vs(a),endOffset:e+s.offset+a.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:a,startOffset:e+s.offset,url:a})})}i(Ku,"extractTextLinks");function fm(t,e,n,r,o){n==="/"&&(n="");let s;if(e.path===n&&r&&o.isSingleSubpathAllowed)s="";else switch(o.linkPathStyle){case"AbsolutePathInVault":s=e.path,o.shouldUseLeadingSlashForAbsolutePaths&&!s.startsWith("/")&&(s=`/${s}`);break;case"RelativePathToTheNote":s=aa(zn(n),e.path),o.shouldUseLeadingDotForRelativePaths&&!s.startsWith(".")&&(s=`./${s}`);break;case"ShortestPathWhenPossible":{let a=ge(t,e)?e.basename:e.name,l=t.metadataCache.getLinkpathDest(a,n);s=l.length===1&&l[0]===e?e.name:e.path;break}default:throw new Error(`Invalid link path style: ${o.linkPathStyle}.`)}return s=o.isWikilink?ji(s,`.${qi}`):s,s+=r,s}i(fm,"generateLinkText");function dm(t){let{app:e}=t,n=he(e,t.targetPathOrFile,t.isNonExistingFileAllowed),r=me(e,t.sourcePathOrFile),o=t.subpath??"",s=wm(t,n),a=fm(e,n,r,o,s);return s.isWikilink?hm(a,t.alias,s.isEmbed):pm(a,n,t,s)}i(dm,"generateMarkdownLinkImpl");function pm(t,e,n,r){let{app:o}=n,s=n.alias??"";return!s&&(ge(o,e)||!n.isEmptyEmbedAliasAllowed)&&(s=!n.shouldIncludeAttachmentExtensionToEmbedAlias||ge(o,e)?e.basename:e.name,n.shouldEscapeAlias=!0),As({alias:s,isEmbed:r.isEmbed,isWikilink:!1,shouldEscapeAlias:n.shouldEscapeAlias??!1,shouldUseAngleBrackets:r.shouldUseAngleBrackets,url:t})}i(pm,"generateMarkdownStyleLink");function hm(t,e,n){return e?.toLowerCase()===t.toLowerCase()?As({isEmbed:n,isWikilink:!0,url:e}):As({alias:e,isEmbed:n,isWikilink:!0,url:t})}i(hm,"generateWikiLink");async function mm(t,e,n,r){if(r??=Oe(),r.throwIfAborted(),!t)return[];let o=[],s=(t.sections??[]).filter(a=>a.type==="table").map(a=>({end:a.position.end.offset,start:a.position.start.offset}));for(let a of Uu(t)){r.throwIfAborted();let l=await n(a,r);if(r.throwIfAborted(),l===void 0)continue;let u=Nr(a,l);if(e)if(An(u))o.push(u);else{console.error("Unsupported file change",u);continue}else km(u,s)&&(u.newContent=u.newContent.replaceAll(qu,Qh)),o.push(u)}return o}i(mm,"getFileChanges");function gm(t,e){switch(e??"ObsidianSettingsDefault"){case"AbsolutePathInVault":return"AbsolutePathInVault";case"RelativePathToTheSource":return"RelativePathToTheNote";case"ShortestPathWhenPossible":return"ShortestPathWhenPossible";case"ObsidianSettingsDefault":{let n=Hu(t);switch(n){case"absolute":return"AbsolutePathInVault";case"relative":return"RelativePathToTheNote";case"shortest":return"ShortestPathWhenPossible";default:throw new Error(`Invalid link format: ${n}.`)}}default:throw new Error(`Invalid link path style: ${e}.`)}}i(gm,"getFinalLinkPathStyle");function bm(t){return Re(t,"generateMarkdownLinkDefaultOptionsFns",[]).value}i(bm,"getGenerateMarkdownLinkDefaultOptionsFns");function wm(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?im(t.originalLink):void 0)??(!(0,vn.requireApiVersion)("1.10.0")&&!ge(n,e)),isSingleSubpathAllowed:t.isSingleSubpathAllowed??!0,isWikilink:Am(n,t.originalLink,t.linkStyle),linkPathStyle:gm(n,t.linkPathStyle),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?rm(t.originalLink):void 0)??!1,shouldUseLeadingDotForRelativePaths:t.shouldUseLeadingDotForRelativePaths??(t.originalLink?om(t.originalLink):void 0)??!1,shouldUseLeadingSlashForAbsolutePaths:t.shouldUseLeadingSlashForAbsolutePaths??(t.originalLink?sm(t.originalLink):void 0)??!1}}i(wm,"getLinkConfig");function Xu(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}i(Xu,"getRawLink");function ym(t,e){return t.startsWith("<")||e.startsWith("<")}i(ym,"hasAngleBracketsInLink");function xm(t,e){let o=Xu(t,e),s=t.children[0]?.position?.start.offset??1,a=t.children.at(-1)?.position?.end.offset??1,l=e.slice(a+2,(t.position?.end.offset??0)-1),u=ym(o,l),c=ys(t.url),f=um(t.url,c,u),d=cm(e,s,a);return{alias:d,encodedUrl:c?vs(f):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:u,isEmbed:!1,isExternal:c,isWikilink:!1,raw:o,startOffset:t.position?.start.offset??0,title:t.title??void 0,unescapedAlias:d===void 0?void 0:lm(d),url:f}}i(xm,"parseLinkNode");function Cm(t,e){return{alias:e.includes(Gu)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:Xu(t,e),startOffset:t.position?.start.offset??0,url:t.value}}i(Cm,"parseWikilinkNode");function km(t,e){return!At(t)||!qu.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}i(km,"shouldEscapeWikilinkDivider");function Am(t,e,n){switch(n??"PreserveExisting"){case"Markdown":return!1;case"ObsidianSettingsDefault":return ks(t);case"PreserveExisting":return e===void 0?ks(t):am(e);case"Wikilink":return!0;default:throw new Error(`Invalid link style: ${n}.`)}}i(Am,"shouldUseWikilinkStyle");var Sn=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var I=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))(I||{});var oc=require("obsidian");var nc=Tt(ec(),1);i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var tc=`${Qn}-styles`;function K(t,...e){t.addClass(I.LibraryName,Xn(),...e)}i(K,"addPluginCssClasses");function rc(t){let e=t;e.DEBUG=La()}i(rc,"initDebugController");function ic(t,e){Ia(e),Oa(e);let n=Re(t,"lastLibraryVersion","0.0.0");(0,nc.compareVersions)(Zi,n.value)<=0||(n.value=Zi,document.head.querySelector(`#${tc}`)?.remove(),document.head.createEl("style",{attr:{id:tc},text:Ta}))}i(ic,"initPluginContext");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var $r=class extends oc.Modal{static{i(this,"ModalBase")}constructor(e,n,r){super(e.app),this.resolve=n,K(this.containerEl,r),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function sc(t){return await new Promise(e=>{t(e).open()})}i(sc,"showModal");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Es=class extends $r{static{i(this,"PromptModal")}isOkClicked=!1;options;value;constructor(e,n){super(e,n,I.PromptModal);let r={app:e.app,cancelButtonText:ie(o=>o.obsidianDevUtils.buttons.cancel),defaultValue:"",okButtonText:ie(o=>o.obsidianDevUtils.buttons.ok),placeholder:"",title:"",valueValidator:Le};this.options={...r,...e},this.value=e.defaultValue??""}onClose(){super.onClose(),this.resolve(this.isOkClicked?this.value:null)}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title);let e=new Sn.TextComponent(this.contentEl),n=e.inputEl,r=i(async()=>{let a=await this.options.valueValidator(n.value);n.setCustomValidity(a??""),n.reportValidity()},"validate");e.setValue(this.value),e.inputEl.select(),e.setPlaceholder(this.options.placeholder),n.addClass(I.TextBox),e.onChange(a=>{this.value=a}),n.addEventListener("keydown",a=>{a.key==="Enter"?this.handleOk(a,e):a.key==="Escape"&&this.close()}),n.addEventListener("input",Ye(r)),n.addEventListener("focus",Ye(r)),Q(r);let o=new Sn.ButtonComponent(this.contentEl);o.setButtonText(this.options.okButtonText),o.setCta(),o.onClick(a=>{this.handleOk(a,e)}),o.setClass(I.OkButton);let s=new Sn.ButtonComponent(this.contentEl);s.setButtonText(this.options.cancelButtonText),s.onClick(this.close.bind(this)),s.setClass(I.CancelButton)}handleOk(e,n){e.preventDefault(),n.inputEl.checkValidity()&&(this.isOkClicked=!0,this.close())}};async function ac(t){return await sc(e=>new Es(t,e))}i(ac,"prompt");var Hr=require("obsidian");var lc=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Wr=class extends lc.Component{static{i(this,"AsyncEventsComponent")}registerAsyncEvent(e){Ur(this,e)}};function Ur(t,e){t.register(()=>{e.asyncEvents.offref(e)})}i(Ur,"registerAsyncEvent");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function vm(t){let e=new Set;return t.workspace.iterateAllLeaves(n=>{e.add(n.getContainer())}),Array.from(e)}i(vm,"getAllContainers");function uc(t){return vm(t).map(e=>e.win)}i(uc,"getAllDomWindows");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var jr=class extends Hr.Plugin{static{i(this,"PluginBase")}events=new Ne;get abortSignal(){if(!this._abortSignal)throw new Error("Abort signal not defined");return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){Bt(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),Ma(this.afterLoad.bind(this))}onunload(){super.onunload(),Q(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerDomWindowHandler(e){let n=window;e(n),this.app.workspace.onLayoutReady(()=>{for(let r of uc(this.app))r!==n&&e(r);this.registerEvent(this.app.workspace.on("window-open",r=>{e(r.win)}))})}registerForLifecycleEvent(e,n){Q(async()=>{await this.waitForLifecycleEvent(e),await n()})}registerPopupDocumentDomEvent(e,n,r){this.registerDomWindowHandler(o=>{this.registerDomEvent(o.document,e,n,r)})}registerPopupWindowDomEvent(e,n,r){this.registerDomWindowHandler(o=>{this.registerDomEvent(o,e,n,r)})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}createTranslationsMap(){return lr}handleAsyncError(e){this.showNotice(ie(n=>n.obsidianDevUtils.notices.unhandledError))}async onLayoutReady(){await Me()}async onloadImpl(){ic(this.app,this.manifest.id),this.registerDomWindowHandler(n=>{rc(n)}),await xo(this.createTranslationsMap()),this.register(Hs(this.handleAsyncError.bind(this))),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(Ur(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),Ur(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort(new Ft(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(e,n){await Me()}async onSaveSettings(e,n,r){await Me()}async onunloadImpl(){await Me()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new Hr.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this.abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(Ye(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function cc(t,e,n,r){n.throwIfAborted();let o=we("Logger:invokeAsyncAndLog"),s=performance.now();r??=ke(1),ze(o,r,`${t}:start`,{fn:e,timestampStart:s});try{await e(n);let a=performance.now(),l=Math.trunc(a-s);n.aborted&&(ze(o,r,`${t}:aborted`,{abortReason:n.reason,duration:l,fn:e,timestampEnd:a,timestampStart:s}),n.throwIfAborted()),ze(o,r,`${t}:end`,{duration:l,fn:e,timestampEnd:a,timestampStart:s})}catch(a){let l=performance.now();throw ze(o,r,`${t}:error`,{duration:Math.trunc(l-s),error:a,fn:e,timestampEnd:l,timestampStart:s}),a}}i(cc,"invokeAsyncAndLog");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function fc(t){let e=t.stackTrace??ke(1);Q(()=>Em(t),e)}i(fc,"addToQueue");async function Em(t){let e=t.abortSignal??Oe();e.throwIfAborted();let r=t.timeoutInMilliseconds??6e4,o=t.stackTrace??ke(1),s=t.operationName??"",a=dc(t.app).value;a.items.push({abortSignal:e,operationFn:t.operationFn,operationName:s,shouldShowTimeoutNotice:t.shouldShowTimeoutNotice??!0,stackTrace:o,timeoutInMilliseconds:r}),a.promise=a.promise.then(()=>pc(t.app)),await a.promise}i(Em,"addToQueueAndWait");function dc(t){return Re(t,"queue",{items:[],promise:Promise.resolve()})}i(dc,"getQueue");async function pc(t){let e=dc(t).value,n=e.items[0];n&&(await ro(()=>nl({context:{queuedFn:n.operationFn},async operationFn(r){await cc(n.operationName||pc.name,n.operationFn,dt(r,n.abortSignal),n.stackTrace)},operationName:n.operationName,shouldShowTimeoutNotice:n.shouldShowTimeoutNotice,stackTrace:n.stackTrace,timeoutInMilliseconds:n.timeoutInMilliseconds})),e.items.shift())}i(pc,"processNextQueueItem");var hc=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function mc(t){return t.validationMessage!==void 0}i(mc,"isValidationMessageHolder");var Sm=/[#^[\]|]/g,Tm=/[*\\/<>:|?"]/g,Fm=/[\0/]/g;function Ss(t){return Gs([Im(t),Sm])}i(Ss,"getOsAndObsidianUnsafePathCharsRegExp");function Im(t){return t??=hc.Platform.isWin,t?Tm:Fm}i(Im,"getOsUnsafePathCharsRegExp");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Kr=class{static{i(this,"CommandBase")}icon;id;name;originalId;originalName;app;plugin;constructor(e){this.id=e.id,this.name=e.name,this.icon=e.icon,this.plugin=e.plugin,this.app=this.plugin.app,this.originalId=this.id,this.originalName=this.name}register(){this.plugin.addCommand(this)}},Tn=class{static{i(this,"CommandInvocationBase")}constructor(e){this.plugin=e,this.app=e.app}app;lastCanExecuteResult;invoke(e){return this.lastCanExecuteResult=this.canExecute(),!e&&this.lastCanExecuteResult&&Q(()=>this.execute()),this.lastCanExecuteResult}async invokeAsync(e){this.lastCanExecuteResult=this.canExecute(),!e&&this.lastCanExecuteResult&&await this.execute()}canExecute(){return!0}async execute(){if(this.lastCanExecuteResult===void 0)throw new Error("canExecute() must be called before execute()");if(!this.lastCanExecuteResult)throw new Error("canExecute() must return true before execute()");await Promise.resolve()}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var qr=class extends Kr{static{i(this,"NonEditorCommandBase")}constructor(e){super(e)}checkCallback(e){return this.createCommandInvocation().invoke(e)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Gr=class extends qr{static{i(this,"AbstractFileCommandBase")}get fileMenuItemName(){return this._fileMenuItemName}get fileMenuSection(){return this._fileMenuSection}get fileMenuSubmenuIcon(){return this._fileMenuSubmenuIcon}get filesMenuItemName(){return this._filesMenuItemName}get filesMenuSection(){return this._filesMenuSection}get filesMenuSubmenuIcon(){return this._filesMenuSubmenuIcon}get shouldAddCommandToSubmenu(){return this._shouldAddCommandToSubmenu}_fileMenuItemName;_fileMenuSection;_fileMenuSubmenuIcon;_filesMenuItemName;_filesMenuSection;_filesMenuSubmenuIcon;_shouldAddCommandToSubmenu;constructor(e){super(e),this._fileMenuItemName=e.fileMenuItemName,this._fileMenuSection=e.fileMenuSection,this._fileMenuSubmenuIcon=e.fileMenuSubmenuIcon,this._filesMenuItemName=e.filesMenuItemName,this._filesMenuSection=e.filesMenuSection,this._filesMenuSubmenuIcon=e.filesMenuSubmenuIcon,this._shouldAddCommandToSubmenu=e.shouldAddCommandToSubmenu}checkCallback(e){return this.shouldAddToCommandPalette()?super.checkCallback(e):!1}register(){super.register(),this.plugin.registerEvent(this.app.workspace.on("file-menu",this.handleAbstractFileMenu.bind(this))),this.plugin.registerEvent(this.app.workspace.on("files-menu",this.handleAbstractFilesMenu.bind(this)))}createCommandInvocation(e){return this.createCommandInvocationForAbstractFile(e??this.app.workspace.getActiveFile())}createCommandInvocationForAbstractFiles(e){return new Ts(this.plugin,e,this.createCommandInvocationForAbstractFile.bind(this))}shouldAddToAbstractFileMenu(e,n,r){return!1}shouldAddToAbstractFilesMenu(e,n,r){for(let o of e)if(!this.shouldAddToAbstractFileMenu(o,n,r))return!1;return!0}shouldAddToCommandPalette(){return!0}handleAbstractFileMenu(e,n,r,o){if(!this.shouldAddToAbstractFileMenu(n,r,o)||!this.createCommandInvocation(n).invoke(!0))return;let s=this.fileMenuSection??this.plugin.manifest.name;this.shouldAddCommandToSubmenu&&e.setSectionSubmenu(s,{icon:this.fileMenuSubmenuIcon??"",title:s}),e.addItem(a=>{a.setTitle(this.fileMenuItemName??this.originalName).setIcon(this.icon).setSection(s).onClick(()=>this.createCommandInvocation(n).invoke(!1))})}handleAbstractFilesMenu(e,n,r,o){if(!this.shouldAddToAbstractFilesMenu(n,r,o)||!this.createCommandInvocationForAbstractFiles(n).invoke(!0))return;let s=this.filesMenuSection??this.fileMenuSection??this.plugin.manifest.name;this.shouldAddCommandToSubmenu&&e.setSectionSubmenu(s,{icon:this.filesMenuSubmenuIcon??this.fileMenuSubmenuIcon??"",title:s}),e.addItem(a=>{a.setTitle(this.filesMenuItemName??this.fileMenuItemName??this.originalName).setIcon(this.icon).setSection(s).onClick(()=>this.createCommandInvocationForAbstractFiles(n).invoke(!1))})}},Yr=class extends Tn{static{i(this,"AbstractFileCommandInvocationBase")}_abstractFile;get abstractFile(){if(!this._abstractFile)throw new Error("Abstract file not set");return this._abstractFile}constructor(e,n){super(e),this._abstractFile=n}canExecute(){return super.canExecute()&&!!this._abstractFile}},Fn=class extends Tn{static{i(this,"AbstractFilesCommandInvocationBase")}constructor(e,n){super(e),this.abstractFiles=n}};var Ts=class extends Fn{static{i(this,"SequentialAbstractFilesCommandInvocationBase")}constructor(e,n,r){super(e,n),this.createCommandInvocationForFile=r}canExecute(){return super.canExecute()&&this.abstractFiles.length>0&&this.abstractFiles.every(e=>this.createCommandInvocationForFile(e).invoke(!0))}async execute(){for(let e of this.abstractFiles)await this.createCommandInvocationForFile(e).invokeAsync(!1)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Jr=class extends Yr{static{i(this,"FileCommandInvocationBase")}get file(){return $n(this._abstractFile)}constructor(e,n){super(e,n)}canExecute(){return super.canExecute()&&!!this._abstractFile}};var Qr=class extends Gr{static{i(this,"FileCommandBase")}constructor(e){super(e)}createCommandInvocation(e){return this.createCommandInvocationForAbstractFile(e??this.app.workspace.getActiveFile())}createCommandInvocationForAbstractFile(e){return this.createCommandInvocationForFile(Yi(e))}createCommandInvocationForAbstractFiles(e){return this.createCommandInvocationForFiles(Gi(e))}createCommandInvocationForFiles(e){return new Is(this.plugin,e,this.createCommandInvocationForFile.bind(this))}shouldAddToAbstractFileMenu(e,n,r){return Ge(e)?this.shouldAddToFileMenu(e,n,r):!1}shouldAddToAbstractFilesMenu(e,n,r){return e.every(o=>Ge(o))?this.shouldAddToFilesMenu(Gi(e),n,r):!1}shouldAddToFileMenu(e,n,r){return!1}shouldAddToFilesMenu(e,n,r){return!1}},Fs=class extends Fn{static{i(this,"FilesCommandInvocationBase")}constructor(e,n){super(e,n),this.files=n}},Is=class extends Fs{static{i(this,"SequentialFilesCommandInvocationBase")}constructor(e,n,r){super(e,n),this.createCommandInvocationForFile=r}canExecute(){return super.canExecute()&&this.files.length>0&&this.files.every(e=>this.createCommandInvocationForFile(e).invoke(!0))}async execute(){for(let e of this.files)await this.createCommandInvocationForFile(e).invokeAsync(!1)}};var Ps=class extends Jr{static{i(this,"InvokeCommandInvocation")}constructor(e,n){super(e,n)}async execute(){await this.plugin.smartRename(this.file)}canExecute(){return!(!super.canExecute()||!this.plugin.settings.shouldSupportNonMarkdownFiles&&!ge(this.app,this.file))}},Xr=class extends Qr{static{i(this,"InvokeCommand")}constructor(e){super({fileMenuItemName:"Smart rename",icon:"edit-3",id:"invoke",name:"Invoke",plugin:e})}createCommandInvocationForFile(e){return new Ps(this.plugin,e)}shouldAddToFileMenu(){return!0}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var st=class{static{i(this,"Transformer")}getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let r=this.getTransformerId(e,n);if(r){let a=this.transformValue(e,n);return a===void 0?void 0:{__transformerId:r,transformedValue:a}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((a,l)=>this.transformValueRecursively(a,String(l)));let o=e;if(o.__transformerId)return this.getTransformer(o.__transformerId).restoreValue(o.transformedValue,n);let s={};for(let a of Pt(e)){let l=e[a],u=this.transformValueRecursively(l,a);s[a]=u}return s}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ie=class extends st{static{i(this,"TypedTransformer")}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Zr=class extends Ie{static{i(this,"DateTransformer")}get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var gc=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ei=class extends Ie{static{i(this,"DurationTransformer")}get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return gc.moment.duration(e)}transformValue(e){return e.toISOString()}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ti=class extends st{static{i(this,"GroupTransformer")}constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??ft(`No transformer with id ${e} found`)}transformValue(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);if(r===null)throw new Error("No transformer can transform the value");return r.transformValue(e,n)}getTransformerId(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);return r===null?null:r.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(r=>r.canTransform(e,n))??null}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ni=class extends Ie{static{i(this,"MapTransformer")}get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ri=class extends Ie{static{i(this,"SetTransformer")}get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pm="_",ii=class extends st{static{i(this,"SkipPrivatePropertyTransformer")}get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(Pm)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var In=class{static{i(this,"TwoWayMap")}keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,r]of e)this.set(n,r)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var oi=class extends Ie{static{i(this,"TwoWayMapTransformer")}get id(){return"two-way-map"}canTransform(e){return e instanceof In}restoreValue(e){return new In(e)}transformValue(e){return Array.from(e.entries())}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Lm=new ti([new ii,new Zr,new ei,new ni,new ri,new oi]),si=class extends Ne{static{i(this,"PluginSettingsManagerBase")}constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=Pt(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let r of this.propertyNames)n[r]&&(e[r]=this.defaultSettings[r])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let r=n,o=await this.rawRecordToSettings(r),s=await this.validate(o);for(let l of this.propertyNames)this.setPropertyImpl(l,o[l],s[l]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let a=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);pe(a,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,r){return super.on(e,n,r)}async revalidate(){return await this.edit(Le),this.currentSettingsWrapper.validationMessages}async saveToFile(e){pe(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(r=>{r[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[r,o]of this.validators.entries()){let s=await o(e[r],e);s&&(n[r]=s)}return n}getTransformer(){return Lm}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await Me()}registerLegacySettingsConverter(e,n){let r=this;this.legacySettingsConverters.push(o);function o(s){let a=new Set(Object.keys(new e)),l=new Set(r.propertyNames),u=s;n(u);for(let c of Object.keys(u))l.has(c)||a.has(c)&&delete s[c]}i(o,"legacySettingsConverter")}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),r=JSON.stringify(n),o=JSON.parse(r);return await this.rawRecordToSettings(o)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let r of this.propertyNames){let o=n[r]??"";this.currentSettingsWrapper.validationMessages[r]=o,this.currentSettingsWrapper.safeSettings[r]=o?this.defaultSettings[r]:this.currentSettingsWrapper.settings[r]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[r,o]of Object.entries(e)){if(!this.isValidPropertyName(r)){we("PluginSettingsManagerBase:rawRecordToSettings")(`Unknown property: ${r}`);continue}typeof o!=typeof this.defaultSettings[r]&&we("PluginSettingsManagerBase:rawRecordToSettings")("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[r],propertyName:r,value:o}),n[r]=o}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,r){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=r??"",this.currentSettingsWrapper.safeSettings[e]=r?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let r of this.propertyNames)n[r]=e[r];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var ai=class{static{i(this,"PluginSettings")}invalidCharacterAction="Error";replacementCharacter="_";shouldStoreInvalidTitle=!0;shouldSupportNonMarkdownFiles=!0;shouldUpdateFirstHeader=!1;shouldUpdateTitleKey=!1};var li=class extends si{static{i(this,"PluginSettingsManager")}createDefaultSettings(){return new ai}registerValidators(){this.registerValidator("replacementCharacter",e=>{if(this.plugin.hasInvalidCharacters(e))return"Invalid replacement character"})}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function wc(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}i(wc,"appendCodeBlock");function yc(t){return`${String(t)}px`}i(yc,"toPx");var vt=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ui(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains(I.SettingComponentWrapper))return e;let n=Array.from(e.children),r=createDiv();K(r,I.SettingComponentWrapper);for(let o of n)r.appendChild(o);return e.appendChild(r),r}i(ui,"ensureWrapped");var xc=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ls=class{static{i(this,"AbstractTextComponentWrapper")}constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function Cc(t){return Om(t)?t:t instanceof xc.AbstractTextComponent?new Ls(t):null}i(Cc,"getTextBasedComponentValue");function Om(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}i(Om,"isTextBasedComponent");var ue=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ci=class{static{i(this,"OverlayValidatorComponent")}constructor(e){this.el=e;let n=ui(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),K(this._validatorEl,I.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let r=this.el.querySelector("[tabindex]");r||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),r=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{r.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},at=class{static{i(this,"ValidatorElementWrapper")}constructor(e){this.validatorEl=e}};function kc(t){return Rm(t)?t:t instanceof ue.ColorComponent?new at(t.colorPickerEl):t instanceof ue.DropdownComponent?new at(t.selectEl):t instanceof ue.ProgressBarComponent?new ci(t.progressBar):t instanceof ue.SearchComponent?new at(t.inputEl):t instanceof ue.SliderComponent?new at(t.sliderEl):t instanceof ue.TextAreaComponent?new at(t.inputEl):t instanceof ue.TextComponent?new at(t.inputEl):t instanceof ue.ToggleComponent?new ci(t.toggleEl):null}i(kc,"getValidatorComponent");function Rm(t){return!!t.validatorEl}i(Rm,"isValidatorComponent");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Os="PluginSettingsTab",fi=class extends vt.PluginSettingTab{static{i(this,"PluginSettingsTabBase")}constructor(e){super(e.app,e),this.plugin=e,K(this.containerEl,I.PluginSettingsTab),this.saveSettingsDebounced=(0,vt.debounce)(Ye(()=>this.plugin.settingsManager.saveToFile(Os)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new Wr,this.asyncEvents=new Ne}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,r){let s={...{componentToPluginSettingsValueConverter:i(S=>S,"componentToPluginSettingsValueConverter"),onChanged:Le,pluginSettingsToComponentValueConverter:i(S=>S,"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...r},a=kc(e)?.validatorEl,l=Cc(e),u=this.pluginSettings[n],c=this.plugin.settingsManager.defaultSettings[n],f=s.pluginSettingsToComponentValueConverter(c);l?.setPlaceholderValue(f);let d,p=null,h=null;if(a){let S=ui(a);p=S.createDiv(),K(p,I.Tooltip,I.TooltipValidator),h=p.createSpan();let P=p.createDiv();K(P,I.TooltipArrow),p.hide(),S.appendChild(p)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(S,P)=>{n===S&&(d=P,C())}));let b=!1,A=!1;l&&s.shouldShowPlaceholderForDefaultValues&&pe(u,c)?l.empty():e.setValue(s.pluginSettingsToComponentValueConverter(u));let y=!1,C=(0,vt.debounce)(()=>{requestAnimationFrame(()=>{v()})},100);return e.onChange(async S=>{if(y){y=!1;return}b=!1;let P=this.pluginSettings[n],x,B=!0;if(A=!!l?.isEmpty()&&s.shouldResetSettingWhenComponentIsEmpty,A)x=c;else{let U=s.componentToPluginSettingsValueConverter(S);mc(U)?(d=U.validationMessage,B=!1):x=U}B&&(d=await this.plugin.settingsManager.setProperty(n,x),l&&s.shouldShowPlaceholderForDefaultValues&&!l.isEmpty()&&pe(x,c)&&(b=!0)),C(),B&&await s.onChanged(x,P),this.saveSettingsDebounced()}),a?.addEventListener("focus",()=>{C()}),a?.addEventListener("blur",()=>{C()}),a?.addEventListener("click",()=>{requestAnimationFrame(()=>{C()})}),d=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",C(),e;function v(){a?.isActiveElement()||(b?(b=!1,l?.isEmpty()||(y=!0,l?.empty())):A&&(A=!1,l?.isEmpty()&&(y=!0,e.setValue(f)))),a&&(d===""&&(a.setCustomValidity(""),a.checkValidity(),d=a.validationMessage),a.setCustomValidity(d),s.shouldShowValidationMessage?(h&&(h.textContent=d),p?.toggle(!!d)):d&&(0,vt.setTooltip)(a,d))}i(v,"updateValidatorEl")}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),Q(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(Os)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await Me()}async revalidate(){let e=await this.plugin.settingsManager.revalidate();await this.updateValidations(e)}on(e,n,r){return this.asyncEvents.on(e,n,r)}async onSaveSettings(e,n,r){if(r===Os){await this.updateValidations(e.validationMessages);return}this.display()}async updateValidations(e){for(let[n,r]of Object.entries(e))await this.asyncEvents.triggerAsync("validationMessageChanged",n,r)}};var Pn=require("obsidian");var Ac=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var di=class extends Ac.ValueComponent{static{i(this,"CheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),K(e,I.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var hi=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var pi=class extends hi.ValueComponent{static{i(this,"CodeHighlighterComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),K(e,I.CodeHighlighterComponent);let n=e.createDiv();K(n,I.SettingComponentWrapper),this.textAreaComponent=new hi.TextAreaComponent(n),this.preEl=n.createEl("pre",{attr:{tabIndex:"-1"}}),this.codeEl=this.preEl.createEl("code",{attr:{tabIndex:"-1"}}),this.inputEl.addEventListener("input",Ye(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let r=2;this.tabSize=r}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let r of[this.preEl,this.codeEl]){for(let o of Array.from(r.classList))o.startsWith(n)&&r.classList.remove(o);r.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,Q(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),Q(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;if(e.preventDefault(),e.ctrlKey||e.metaKey){let f=Array.from(activeDocument.querySelectorAll(':is(a, button, input, select, textarea, [tabindex]):not([tabindex="-1"]):not(:disabled):not([type="hidden"])')),d=f.indexOf(this.inputEl),p=e.shiftKey?-1:1;f[(d+p+f.length)%f.length]?.focus();return}let n=this.getValue(),r=this.inputEl.selectionStart,o=this.inputEl.selectionEnd,s=n.slice(0,r),a=n.slice(o),l=" ".repeat(this.tabSize),u=s;e.shiftKey?s.endsWith(l)&&(u=s.slice(0,-this.tabSize)):u=s+l;let c=`${u}${a}`;this.setValue(c),this.inputEl.selectionStart=u.length,this.inputEl.selectionEnd=u.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await ra()).highlightElement(this.codeEl),this.preEl.toggleClass(I.IsPlaceholder,this.isEmpty()),requestAnimationFrame(()=>{let n=Math.max(0,this.inputEl.scrollHeight-this.preEl.scrollHeight);this.preEl.setCssProps({"--bottom-gap":yc(n)}),this.handleScroll()})}};var Sc=require("obsidian");var mi=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Z=class extends mi.ValueComponent{static{i(this,"TypedTextComponent")}inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,r){super(),this.textComponent=new mi.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,K(e,r)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var xe=class extends Z{static{i(this,"TypedRangeTextComponent")}setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=String(e),this}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var vc=Ze(Sc.moment),Ec="YYYY-MM-DD",gi=class extends xe{static{i(this,"DateComponent")}constructor(e){super(e,"date",I.DateComponent)}valueFromString(e){return vc(e,Ec).toDate()}valueToString(e){return vc(e).format(Ec)}};var Ic=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Tc=Ze(Ic.moment),Fc="YYYY-MM-DDTHH:mm",bi=class extends xe{static{i(this,"DateTimeComponent")}constructor(e){super(e,"datetime-local",I.DateTimeComponent)}valueFromString(e){return Tc(e,Fc).toDate()}valueToString(e){return Tc(e).format(Fc)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var wi=class extends Z{static{i(this,"EmailComponent")}constructor(e){super(e,"email",I.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var yi=class extends Z{static{i(this,"FileComponent")}constructor(e){super(e,"file",I.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var Oc=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pc=Ze(Oc.moment),Lc="YYYY-MM",xi=class extends xe{static{i(this,"MonthComponent")}constructor(e){super(e,"month",I.MonthComponent)}valueFromString(e){let n=Pc(e,Lc);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return Pc().year(e.year).month(e.month-1).format(Lc)}};var Ci=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qt=class extends Ci.ValueComponent{static{i(this,"MultipleDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new Ci.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,K(e,I.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ki=class extends Z{static{i(this,"MultipleEmailComponent")}constructor(e){super(e,"email",I.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ai=class extends Z{static{i(this,"MultipleFileComponent")}constructor(e){super(e,"file",I.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var Ei=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var vi=class extends Ei.ValueComponent{static{i(this,"MultipleTextComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new Ei.TextAreaComponent(e),K(e,I.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Si=class extends xe{static{i(this,"NumberComponent")}constructor(e){super(e,"number",I.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ti=class extends Z{static{i(this,"PasswordComponent")}constructor(e){super(e,"password",I.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Fi=class extends Z{static{i(this,"TelephoneComponent")}constructor(e){super(e,"tel",I.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Rs=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ii=class extends xe{static{i(this,"TimeComponent")}constructor(e){super(e,"time",I.TimeComponent)}valueFromString(e){return Rs.moment.duration(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",Rs.moment.utc(e.asMilliseconds()).format(n)}};var Rc=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pi=class extends Rc.ValueComponent{static{i(this,"TriStateCheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),K(e,I.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var Oi=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Li=class extends Oi.ValueComponent{static{i(this,"TypedDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new Oi.DropdownComponent(e),K(e,I.TypedDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.dropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var Dc=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ri=class extends Dc.ValueComponent{static{i(this,"TypedMultipleDropdownComponent")}get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new Qt(e),K(e,I.TypedMultipleDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.multipleDropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(r=>this.values.indexOf(r)).filter(r=>r!==-1);return this.multipleDropdownComponent.setValue(n.map(r=>String(r))),this}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Di=class extends Z{static{i(this,"UrlComponent")}constructor(e){super(e,"url",I.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var _c=require("obsidian");i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Nc=Ze(_c.moment),Mc="YYYY-[W]WW",Ni=class extends xe{static{i(this,"WeekComponent")}constructor(e){super(e,"week",I.WeekComponent)}valueFromString(e){let n=Nc(e,Mc);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return Nc().year(e.year).isoWeek(e.weekNumber).format(Mc)}};i((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qe=class extends Pn.Setting{static{i(this,"SettingEx")}addCheckbox(e){return this.addComponentClass(di,e)}addCodeHighlighter(e){return this.addComponentClass(pi,e)}addComponentClass(e,n){return this.addComponentSafe(r=>{let o=new e(r);return n(o),o})}addDate(e){return this.addComponentClass(gi,e)}addDateTime(e){return this.addComponentClass(bi,e)}addEmail(e){return this.addComponentClass(wi,e)}addFile(e){return this.addComponentClass(yi,e)}addMonth(e){return this.addComponentClass(xi,e)}addMultipleDropdown(e){return this.addComponentClass(Qt,e)}addMultipleEmail(e){return this.addComponentClass(ki,e)}addMultipleFile(e){return this.addComponentClass(Ai,e)}addMultipleText(e){return this.addComponentClass(vi,e)}addNumber(e){return this.addComponentClass(Si,e)}addPassword(e){return this.addComponentClass(Ti,e)}addTelephone(e){return this.addComponentClass(Fi,e)}addTime(e){return this.addComponentClass(Ii,e)}addTriStateCheckbox(e){return this.addComponentClass(Pi,e)}addTypedDropdown(e){return this.addComponentClass(Li,e)}addTypedMultipleDropdown(e){return this.addComponentClass(Ri,e)}addUrl(e){return this.addComponentClass(Di,e)}addWeek(e){return this.addComponentClass(Ni,e)}addComponentSafe(e){return(0,Pn.requireApiVersion)("1.11.0")?this.addComponent(n=>((0,Pn.requireApiVersion)("0.16.0"),e(n))):(this.components.push(e(this.controlEl)),this)}};var Mi=class extends fi{static{i(this,"PluginSettingsTab")}display(){super.display(),this.containerEl.empty(),new Qe(this.containerEl).setName("Invalid characters action").setDesc("How to process invalid characters in the new title").addDropdown(e=>{e.addOptions({Error:"Show error",Remove:"Remove invalid characters",Replace:"Replace invalid character with"}),this.bind(e,"invalidCharacterAction",{onChanged:i(()=>{this.display()},"onChanged")})}),this.plugin.settings.invalidCharacterAction==="Replace"&&new Qe(this.containerEl).setName("Replacement character").setDesc("Character to replace invalid character with").addText(e=>{e.inputEl.maxLength=1,this.bind(e,"replacementCharacter")}),this.plugin.settings.invalidCharacterAction!=="Error"&&new Qe(this.containerEl).setName("Should store invalid title").setDesc(createFragment(e=>{e.appendText("Whether to store the title with invalid characters."),e.createEl("br"),e.appendText("If disabled, stores the sanitized version")})).addToggle(e=>{this.bind(e,"shouldStoreInvalidTitle")}),new Qe(this.containerEl).setName("Should update title key").setDesc("Whether to update the title key in frontmatter.").addToggle(e=>{this.bind(e,"shouldUpdateTitleKey")}),new Qe(this.containerEl).setName("Should update first header").setDesc(createFragment(e=>{e.appendText("Whether to update the first header if it is present in the note. May conflict with the "),e.createEl("a",{attr:{href:"https://obsidian.md/plugins?id=obsidian-filename-heading-sync"},text:"Filename Heading Sync"}),e.appendText(" plugin.")})).addToggle(e=>{this.bind(e,"shouldUpdateFirstHeader")}),new Qe(this.containerEl).setName("Should support non-markdown files").setDesc(createFragment(e=>{e.appendText("Whether to support non-markdown files."),e.createEl("br"),e.appendText("If disabled, context menu and "),wc(e,"Smart rename"),e.appendText(" command will not be available for non-markdown files.")})).addToggle(e=>{this.bind(e,"shouldSupportNonMarkdownFiles")})}};var Bi=class extends jr{static{i(this,"Plugin")}hasInvalidCharacters(e){return Ss().test(e)}async smartRename(e){let n=e.basename,r=await ac({app:this.app,defaultValue:n,title:"Enter new title"})??"",o=r;if(this.hasInvalidCharacters(r))switch(this.settings.invalidCharacterAction){case"Error":new _i.Notice("The new title has invalid characters");return;case"Remove":r=this.replaceInvalidCharacters(r,"");break;case"Replace":r=this.replaceInvalidCharacters(r,this.settings.replacementCharacter);break;default:throw new Error("Invalid character action")}this.settings.shouldStoreInvalidTitle||(o=r);let s=rn(e.parent?.getParentPrefix()??"",la(r,e.extension)),a=await this.getValidationError(n,r,s);if(a){new _i.Notice(a);return}let l=await xs(this.app,e),u=e.path;try{await this.app.vault.rename(e,s)}catch(c){new _i.Notice("Failed to rename file"),console.error(new Error("Failed to rename file",{cause:c}));return}fc({app:this.app,operationFn:i(async()=>{await this.processRename(u,s,o,l)},"operationFn"),operationName:"Smart rename"})}createSettingsManager(){return new li(this)}createSettingsTab(){return new Mi(this)}async onloadImpl(){await super.onloadImpl(),new Xr(this).register()}async addAliases(e,n,r){let o=Dt(e,et(e));await vo(this.app,e,n),this.settings.shouldStoreInvalidTitle&&r!==o&&await vo(this.app,e,r)}async getValidationError(e,n,r){return n?n===e?"The title did not change":n.toLowerCase()===e.toLowerCase()?null:await this.app.vault.exists(r)?"Note with the new title already exists":n.startsWith(".")?"The title cannot start with a dot":null:"No new title provided"}async processBacklinks(e,n,r){let o=he(this.app,n),s=Dt(e,et(e)),a=o.basename;for(let l of r.keys()){let u=r.get(l);if(!u)continue;l===e&&(l=n);let c=new Set(u.map(f=>Mn(f)));await Yu(this.app,l,f=>{if(Ju(this.app,f,l)!==o&&!c.has(Mn(f)))return;let d=(f.displayText??"").toLowerCase()===a.toLowerCase()?s:f.displayText;return Qu({alias:d,app:this.app,originalLink:f.original,sourcePathOrFile:l,targetPathOrFile:n})})}}async processRename(e,n,r,o){let s=Dt(e,et(e));await this.processBacklinks(e,n,o),ge(this.app,n)&&(await this.addAliases(n,s,r),await this.updateTitle(n,r),await this.updateFirstHeader(n,r))}replaceInvalidCharacters(e,n){return e.replace(Ss(),n)}async updateFirstHeader(e,n){this.settings.shouldUpdateFirstHeader&&await $t(this.app,e,async(r,o)=>{r.throwIfAborted();let s=await Vr(this.app,e);if(r.throwIfAborted(),s===null)return null;let a=s.headings?.filter(l=>l.level===1).sort((l,u)=>l.position.start.offset-u.position.start.offset)[0];return a?Nn(o,`# ${n}`,a.position.start.offset,a.position.end.offset):o})}async updateTitle(e,n){this.settings.shouldUpdateTitleKey&&await Eo(this.app,e,r=>{r.title=n})}};var Dm=Bi;

/* nosourcemap */